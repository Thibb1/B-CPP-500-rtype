<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>R-TYPE: UdpServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">R-TYPE
   </div>
   <div id="projectbrief">C++ Project implementing the retro game R-TYPE with Network communication between multiple clients and a server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classUdpServer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classUdpServer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">UdpServer Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef1871384fbc46ef425242be4474af3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#aef1871384fbc46ef425242be4474af3a">~UdpServer</a> ()</td></tr>
<tr class="separator:aef1871384fbc46ef425242be4474af3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b6f2b19d137506a14562d5c2c397c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#aa7b6f2b19d137506a14562d5c2c397c1">start</a> ()</td></tr>
<tr class="separator:aa7b6f2b19d137506a14562d5c2c397c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f568c4a13872deb36c835a74f30379"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#a35f568c4a13872deb36c835a74f30379">handleRequest</a> (std::error_code ec, std::size_t bytes_recvd)</td></tr>
<tr class="separator:a35f568c4a13872deb36c835a74f30379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56444f6b9bc0339fd479ad5ca1742c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#a56444f6b9bc0339fd479ad5ca1742c3b">sendResponse</a> (const udp::endpoint &amp;endpoint, const std::string &amp;msg)</td></tr>
<tr class="separator:a56444f6b9bc0339fd479ad5ca1742c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db14c4e019caf26cd82ea03e3bc50a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#a7db14c4e019caf26cd82ea03e3bc50a4">receiveRequest</a> ()</td></tr>
<tr class="separator:a7db14c4e019caf26cd82ea03e3bc50a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab2f1441f7e6b14aacebcd7c7695794f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#aab2f1441f7e6b14aacebcd7c7695794f">checkAlive</a> ()</td></tr>
<tr class="separator:aab2f1441f7e6b14aacebcd7c7695794f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a103d336e4c606f6e7a268ee155523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#a54a103d336e4c606f6e7a268ee155523">sendAll</a> (const std::string &amp;msg, bool includeSender=true)</td></tr>
<tr class="separator:a54a103d336e4c606f6e7a268ee155523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b672214da5f2386483a646a8d989a0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#a0b672214da5f2386483a646a8d989a0d">removeClient</a> (const udp::endpoint &amp;endpoint, bool erase=true)</td></tr>
<tr class="separator:a0b672214da5f2386483a646a8d989a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f8d1e912ea72571e07106912d67184"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUdpServer.html#a75f8d1e912ea72571e07106912d67184">simulate</a> ()</td></tr>
<tr class="separator:a75f8d1e912ea72571e07106912d67184"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aef1871384fbc46ef425242be4474af3a" name="aef1871384fbc46ef425242be4474af3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef1871384fbc46ef425242be4474af3a">&#9670;&#160;</a></span>~UdpServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UdpServer::~UdpServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It closes the socket and cancels any pending asynchronous operations </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aab2f1441f7e6b14aacebcd7c7695794f" name="aab2f1441f7e6b14aacebcd7c7695794f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab2f1441f7e6b14aacebcd7c7695794f">&#9670;&#160;</a></span>checkAlive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::checkAlive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >If a client hasn't sent a message in the last 5 seconds, remove it from the server</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the client </dd></dl>

</div>
</div>
<a id="a35f568c4a13872deb36c835a74f30379" name="a35f568c4a13872deb36c835a74f30379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f568c4a13872deb36c835a74f30379">&#9670;&#160;</a></span>handleRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::handleRequest </td>
          <td>(</td>
          <td class="paramtype">std::error_code&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>bytes_recvd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It handles a request from a client</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec</td><td>error code </td></tr>
    <tr><td class="paramname">bytes_recvd</td><td>The number of bytes received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return type is void. </dd></dl>

</div>
</div>
<a id="a7db14c4e019caf26cd82ea03e3bc50a4" name="a7db14c4e019caf26cd82ea03e3bc50a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db14c4e019caf26cd82ea03e3bc50a4">&#9670;&#160;</a></span>receiveRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::receiveRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >"When a request is received, handle it and then wait for the next request."</p>
<p >The first thing we do is check if the server has been stopped. If it has, we return immediately</p>
<dl class="section return"><dt>Returns</dt><dd>a future that will receive the result of the asynchronous operation. </dd></dl>

</div>
</div>
<a id="a0b672214da5f2386483a646a8d989a0d" name="a0b672214da5f2386483a646a8d989a0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b672214da5f2386483a646a8d989a0d">&#9670;&#160;</a></span>removeClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::removeClient </td>
          <td>(</td>
          <td class="paramtype">const udp::endpoint &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>erase</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It removes a client from the server</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint of the client to remove. </td></tr>
    <tr><td class="paramname">erase</td><td>if true, the client will be erased from the map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a54a103d336e4c606f6e7a268ee155523" name="a54a103d336e4c606f6e7a268ee155523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a103d336e4c606f6e7a268ee155523">&#9670;&#160;</a></span>sendAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::sendAll </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeSender</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It sends a message to all clients except the sender</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to send to all clients. </td></tr>
    <tr><td class="paramname">includeSender</td><td>If true, the sender of the message will also receive the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56444f6b9bc0339fd479ad5ca1742c3b" name="a56444f6b9bc0339fd479ad5ca1742c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56444f6b9bc0339fd479ad5ca1742c3b">&#9670;&#160;</a></span>sendResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::sendResponse </td>
          <td>(</td>
          <td class="paramtype">const udp::endpoint &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >"Send a message to the specified endpoint."</p>
<p >The first thing we do is lock the socket mutex. This is because we're going to be using the socket, and we don't want another thread to be using it at the same time</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>The endpoint to send the message to. </td></tr>
    <tr><td class="paramname">msg</td><td>The message to send. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75f8d1e912ea72571e07106912d67184" name="a75f8d1e912ea72571e07106912d67184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f8d1e912ea72571e07106912d67184">&#9670;&#160;</a></span>simulate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::simulate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It updates the positions of the enemies and bullets, checks for collisions, and sends messages to the clients </p>

</div>
</div>
<a id="aa7b6f2b19d137506a14562d5c2c397c1" name="aa7b6f2b19d137506a14562d5c2c397c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7b6f2b19d137506a14562d5c2c397c1">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UdpServer::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It starts the server </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>server/includes/<a class="el" href="server_2includes_2network_8hpp_source.html">network.hpp</a></li>
<li>server/src/UpdServer.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classUdpServer.html">UdpServer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
