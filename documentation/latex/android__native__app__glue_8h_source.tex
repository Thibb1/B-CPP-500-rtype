\hypertarget{android__native__app__glue_8h_source}{}\doxysection{android\+\_\+native\+\_\+app\+\_\+glue.\+h}
\label{android__native__app__glue_8h_source}\index{build/\_deps/raylib-\/src/projects/VS2019-\/Android/raylib\_android/raylib\_android.NativeActivity/android\_native\_app\_glue.h@{build/\_deps/raylib-\/src/projects/VS2019-\/Android/raylib\_android/raylib\_android.NativeActivity/android\_native\_app\_glue.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * © 2010 The Android Open Source Project}}
\DoxyCodeLine{3 \textcolor{comment}{ *}}
\DoxyCodeLine{4 \textcolor{comment}{ * Лицензировано по лицензии Apache License, версия 2.0 ( "{}Лицензия"{});}}
\DoxyCodeLine{5 \textcolor{comment}{ *этот файл можно использовать только в соответствии с лицензией.}}
\DoxyCodeLine{6 \textcolor{comment}{ *Копию лицензии можно получить на веб-\/сайте}}
\DoxyCodeLine{7 \textcolor{comment}{ *}}
\DoxyCodeLine{8 \textcolor{comment}{ *      http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{9 \textcolor{comment}{ *}}
\DoxyCodeLine{10 \textcolor{comment}{ *Если только не требуется в соответствии с применимым законодательством или согласовано в письменном виде, программное обеспечение}}
\DoxyCodeLine{11 \textcolor{comment}{ * распространяется в рамках лицензии на УСЛОВИЯХ "{}КАК ЕСТЬ"{},}}
\DoxyCodeLine{12 \textcolor{comment}{ * БЕЗ ГАРАНТИЙ И УСЛОВИЙ ЛЮБОГО РОДА, явно выраженных и подразумеваемых.}}
\DoxyCodeLine{13 \textcolor{comment}{ * См. лицензию для получения информации об определенных разрешениях по использованию языка и}}
\DoxyCodeLine{14 \textcolor{comment}{ * ограничениях в рамках лицензии.}}
\DoxyCodeLine{15 \textcolor{comment}{ *}}
\DoxyCodeLine{16 \textcolor{comment}{ */}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{preprocessor}{\#ifndef \_ANDROID\_NATIVE\_APP\_GLUE\_H}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define \_ANDROID\_NATIVE\_APP\_GLUE\_H}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <poll.h>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <pthread.h>}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include <sched.h>}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include <android/configuration.h>}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include <android/looper.h>}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include <android/native\_activity.h>}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{30 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{32 }
\DoxyCodeLine{84 \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__app}{android\_app}};}
\DoxyCodeLine{85 }
\DoxyCodeLine{90 \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__poll__source}{android\_poll\_source}} \{}
\DoxyCodeLine{91     \textcolor{comment}{// Идентификатор данного источника. Может быть LOOPER\_ID\_MAIN или}}
\DoxyCodeLine{92     \textcolor{comment}{// LOOPER\_ID\_INPUT.}}
\DoxyCodeLine{93     int32\_t id;}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{comment}{// android\_app, с которым связан данный идентификатор.}}
\DoxyCodeLine{96     \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__app}{android\_app}}* app;}
\DoxyCodeLine{97 }
\DoxyCodeLine{98     \textcolor{comment}{// Функция, вызываемая для стандартной обработки данных из}}
\DoxyCodeLine{99     \textcolor{comment}{// этого источника.}}
\DoxyCodeLine{100     void (*process)(\textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__app}{android\_app}}* app, \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__poll__source}{android\_poll\_source}}* source);}
\DoxyCodeLine{101 \};}
\DoxyCodeLine{102 }
\DoxyCodeLine{111 \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__app}{android\_app}} \{}
\DoxyCodeLine{112     \textcolor{comment}{// Приложение может поместить указатель на свой собственный объект состояния}}
\DoxyCodeLine{113     \textcolor{comment}{// здесь, если нужно.}}
\DoxyCodeLine{114     \textcolor{keywordtype}{void}* userData;}
\DoxyCodeLine{115 }
\DoxyCodeLine{116     \textcolor{comment}{// Введите здесь код функции для обработки основных команд приложения (APP\_CMD\_*)}}
\DoxyCodeLine{117     void (*onAppCmd)(\textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__app}{android\_app}}* app, int32\_t cmd);}
\DoxyCodeLine{118 }
\DoxyCodeLine{119     \textcolor{comment}{// Введите здесь код функции для обработки входных событий. Сейчас}}
\DoxyCodeLine{120     \textcolor{comment}{// событие уже было предварительно отправлено и будет завершено при}}
\DoxyCodeLine{121     \textcolor{comment}{// возврате. Верните 1, если событие обработано, 0 — для любой диспетчеризации}}
\DoxyCodeLine{122     \textcolor{comment}{// по умолчанию.}}
\DoxyCodeLine{123     int32\_t (*onInputEvent)(\textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__app}{android\_app}}* app, AInputEvent* event);}
\DoxyCodeLine{124 }
\DoxyCodeLine{125     \textcolor{comment}{// Экземпляр объекта ANativeActivity, в котором выполняется это приложение.}}
\DoxyCodeLine{126     ANativeActivity* activity;}
\DoxyCodeLine{127 }
\DoxyCodeLine{128     \textcolor{comment}{// Текущая конфигурация, в которой выполняется это приложение.}}
\DoxyCodeLine{129     AConfiguration* config;}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \textcolor{comment}{// Это последнее сохраненное состояние экземпляра, предоставленное во время создания.}}
\DoxyCodeLine{132     \textcolor{comment}{// Значение равно NULL, если состояния не было. Можно использовать это по мере необходимости;}}
\DoxyCodeLine{133     \textcolor{comment}{// память останется доступной до вызова android\_app\_exec\_cmd() для}}
\DoxyCodeLine{134     \textcolor{comment}{// APP\_CMD\_RESUME, после чего она будет освобождена, а savedState получит значение NULL.}}
\DoxyCodeLine{135     \textcolor{comment}{// Эти переменные необходимо изменять только при обработке APP\_CMD\_SAVE\_STATE,}}
\DoxyCodeLine{136     \textcolor{comment}{// когда их значения будут инициализироваться в NULL и можно будет выполнить malloc для}}
\DoxyCodeLine{137     \textcolor{comment}{// состояния и поместить здесь информацию. В этом случае память будет}}
\DoxyCodeLine{138     \textcolor{comment}{// освобождена позднее.}}
\DoxyCodeLine{139     \textcolor{keywordtype}{void}* savedState;}
\DoxyCodeLine{140     \textcolor{keywordtype}{size\_t} savedStateSize;}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \textcolor{comment}{// ALooper, связанный с потоком приложения.}}
\DoxyCodeLine{143     ALooper* looper;}
\DoxyCodeLine{144 }
\DoxyCodeLine{145     \textcolor{comment}{// Если значение не равно NULL, то это входная очередь, из которой приложение будет}}
\DoxyCodeLine{146     \textcolor{comment}{// получать входные события пользователя.}}
\DoxyCodeLine{147     AInputQueue* inputQueue;}
\DoxyCodeLine{148 }
\DoxyCodeLine{149     \textcolor{comment}{// Если значение не равно NULL, то это поверхность окна, в котором приложение может рисовать.}}
\DoxyCodeLine{150     ANativeWindow* window;}
\DoxyCodeLine{151 }
\DoxyCodeLine{152     \textcolor{comment}{// Текущий прямоугольник содержимого окна. Это область, в которой}}
\DoxyCodeLine{153     \textcolor{comment}{// должно помещаться содержимое окна, чтобы его видел пользователь.}}
\DoxyCodeLine{154     ARect contentRect;}
\DoxyCodeLine{155 }
\DoxyCodeLine{156     \textcolor{comment}{// Текущее состояние действия приложения. Может быть APP\_CMD\_START,}}
\DoxyCodeLine{157     \textcolor{comment}{// APP\_CMD\_RESUME, APP\_CMD\_PAUSE или APP\_CMD\_STOP; см. ниже.}}
\DoxyCodeLine{158     \textcolor{keywordtype}{int} activityState;}
\DoxyCodeLine{159 }
\DoxyCodeLine{160     \textcolor{comment}{// Значение не равно нулю, когда NativeActivity приложения}}
\DoxyCodeLine{161     \textcolor{comment}{// разрушается и ожидает завершения потока приложения.}}
\DoxyCodeLine{162     \textcolor{keywordtype}{int} destroyRequested;}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{165     \textcolor{comment}{// Ниже показан "{}частная"{} реализация кода прилипания.}}
\DoxyCodeLine{166 }
\DoxyCodeLine{167     pthread\_mutex\_t mutex;}
\DoxyCodeLine{168     pthread\_cond\_t cond;}
\DoxyCodeLine{169 }
\DoxyCodeLine{170     \textcolor{keywordtype}{int} msgread;}
\DoxyCodeLine{171     \textcolor{keywordtype}{int} msgwrite;}
\DoxyCodeLine{172 }
\DoxyCodeLine{173     pthread\_t thread;}
\DoxyCodeLine{174 }
\DoxyCodeLine{175     \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__poll__source}{android\_poll\_source}} cmdPollSource;}
\DoxyCodeLine{176     \textcolor{keyword}{struct }\mbox{\hyperlink{structandroid__poll__source}{android\_poll\_source}} inputPollSource;}
\DoxyCodeLine{177 }
\DoxyCodeLine{178     \textcolor{keywordtype}{int} running;}
\DoxyCodeLine{179     \textcolor{keywordtype}{int} stateSaved;}
\DoxyCodeLine{180     \textcolor{keywordtype}{int} destroyed;}
\DoxyCodeLine{181     \textcolor{keywordtype}{int} redrawNeeded;}
\DoxyCodeLine{182     AInputQueue* pendingInputQueue;}
\DoxyCodeLine{183     ANativeWindow* pendingWindow;}
\DoxyCodeLine{184     ARect pendingContentRect;}
\DoxyCodeLine{185 \};}
\DoxyCodeLine{186 }
\DoxyCodeLine{187 \textcolor{keyword}{enum} \{}
\DoxyCodeLine{195     LOOPER\_ID\_MAIN = 1,}
\DoxyCodeLine{196 }
\DoxyCodeLine{204     LOOPER\_ID\_INPUT = 2,}
\DoxyCodeLine{205 }
\DoxyCodeLine{209     LOOPER\_ID\_USER = 3,}
\DoxyCodeLine{210 \};}
\DoxyCodeLine{211 }
\DoxyCodeLine{212 \textcolor{keyword}{enum} \{}
\DoxyCodeLine{218     APP\_CMD\_INPUT\_CHANGED,}
\DoxyCodeLine{219 }
\DoxyCodeLine{225     APP\_CMD\_INIT\_WINDOW,}
\DoxyCodeLine{226 }
\DoxyCodeLine{233     APP\_CMD\_TERM\_WINDOW,}
\DoxyCodeLine{234 }
\DoxyCodeLine{239     APP\_CMD\_WINDOW\_RESIZED,}
\DoxyCodeLine{240 }
\DoxyCodeLine{246     APP\_CMD\_WINDOW\_REDRAW\_NEEDED,}
\DoxyCodeLine{247 }
\DoxyCodeLine{253     APP\_CMD\_CONTENT\_RECT\_CHANGED,}
\DoxyCodeLine{254 }
\DoxyCodeLine{259     APP\_CMD\_GAINED\_FOCUS,}
\DoxyCodeLine{260 }
\DoxyCodeLine{265     APP\_CMD\_LOST\_FOCUS,}
\DoxyCodeLine{266 }
\DoxyCodeLine{270     APP\_CMD\_CONFIG\_CHANGED,}
\DoxyCodeLine{271 }
\DoxyCodeLine{276     APP\_CMD\_LOW\_MEMORY,}
\DoxyCodeLine{277 }
\DoxyCodeLine{281     APP\_CMD\_START,}
\DoxyCodeLine{282 }
\DoxyCodeLine{286     APP\_CMD\_RESUME,}
\DoxyCodeLine{287 }
\DoxyCodeLine{295     APP\_CMD\_SAVE\_STATE,}
\DoxyCodeLine{296 }
\DoxyCodeLine{300     APP\_CMD\_PAUSE,}
\DoxyCodeLine{301 }
\DoxyCodeLine{305     APP\_CMD\_STOP,}
\DoxyCodeLine{306 }
\DoxyCodeLine{311     APP\_CMD\_DESTROY,}
\DoxyCodeLine{312 \};}
\DoxyCodeLine{313 }
\DoxyCodeLine{318 int8\_t android\_app\_read\_cmd(\textcolor{keyword}{struct} \mbox{\hyperlink{structandroid__app}{android\_app}}* \mbox{\hyperlink{structandroid__app}{android\_app}});}
\DoxyCodeLine{319 }
\DoxyCodeLine{325 \textcolor{keywordtype}{void} android\_app\_pre\_exec\_cmd(\textcolor{keyword}{struct} \mbox{\hyperlink{structandroid__app}{android\_app}}* \mbox{\hyperlink{structandroid__app}{android\_app}}, int8\_t cmd);}
\DoxyCodeLine{326 }
\DoxyCodeLine{332 \textcolor{keywordtype}{void} android\_app\_post\_exec\_cmd(\textcolor{keyword}{struct} \mbox{\hyperlink{structandroid__app}{android\_app}}* \mbox{\hyperlink{structandroid__app}{android\_app}}, int8\_t cmd);}
\DoxyCodeLine{333 }
\DoxyCodeLine{338 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} android\_main(\textcolor{keyword}{struct} \mbox{\hyperlink{structandroid__app}{android\_app}}* app);}
\DoxyCodeLine{339 }
\DoxyCodeLine{340 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{341 \}}
\DoxyCodeLine{342 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{343 }
\DoxyCodeLine{344 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \_ANDROID\_NATIVE\_APP\_GLUE\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
