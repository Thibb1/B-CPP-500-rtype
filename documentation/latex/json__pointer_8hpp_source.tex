\hypertarget{json__pointer_8hpp_source}{}\doxysection{json\+\_\+pointer.\+hpp}
\label{json__pointer_8hpp_source}\index{build/\_deps/json-\/src/include/nlohmann/detail/json\_pointer.hpp@{build/\_deps/json-\/src/include/nlohmann/detail/json\_pointer.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//     \_\_ \_\_\_\_\_ \_\_\_\_\_ \_\_\_\_\_}}
\DoxyCodeLine{2 \textcolor{comment}{//  \_\_|  |   \_\_|     |   | |  JSON for Modern C++}}
\DoxyCodeLine{3 \textcolor{comment}{// |  |  |\_\_   |  |  | | | |  version 3.11.2}}
\DoxyCodeLine{4 \textcolor{comment}{// |\_\_\_\_\_|\_\_\_\_\_|\_\_\_\_\_|\_|\_\_\_|  https://github.com/nlohmann/json}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2013-\/2022 Niels Lohmann <https://nlohmann.me>}}
\DoxyCodeLine{7 \textcolor{comment}{// SPDX-\/License-\/Identifier: MIT}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <algorithm>} \textcolor{comment}{// all\_of}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <cctype>} \textcolor{comment}{// isdigit}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <cerrno>} \textcolor{comment}{// errno, ERANGE}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <cstdlib>} \textcolor{comment}{// strtoull}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#ifndef JSON\_NO\_IO}}
\DoxyCodeLine{16 \textcolor{preprocessor}{    \#include <iosfwd>} \textcolor{comment}{// ostream}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// JSON\_NO\_IO}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <limits>} \textcolor{comment}{// max}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <numeric>} \textcolor{comment}{// accumulate}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <string>} \textcolor{comment}{// string}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <utility>} \textcolor{comment}{// move}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <vector>} \textcolor{comment}{// vector}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include <nlohmann/detail/exceptions.hpp>}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include <nlohmann/detail/macro\_scope.hpp>}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include <nlohmann/detail/string\_concat.hpp>}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include <nlohmann/detail/string\_escape.hpp>}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include <nlohmann/detail/value\_t.hpp>}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 NLOHMANN\_JSON\_NAMESPACE\_BEGIN}
\DoxyCodeLine{31 }
\DoxyCodeLine{34 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringType>}
\DoxyCodeLine{35 \textcolor{keyword}{class }\mbox{\hyperlink{classjson__pointer}{json\_pointer}}}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37     \textcolor{comment}{// allow basic\_json to access private members}}
\DoxyCodeLine{38     NLOHMANN\_BASIC\_JSON\_TPL\_DECLARATION}
\DoxyCodeLine{39     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classbasic__json}{basic\_json}};}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keyword}{template}<\textcolor{keyword}{typename}>}
\DoxyCodeLine{42     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classjson__pointer}{json\_pointer}};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{45     \textcolor{keyword}{struct }string\_t\_helper}
\DoxyCodeLine{46     \{}
\DoxyCodeLine{47         \textcolor{keyword}{using }type = T;}
\DoxyCodeLine{48     \};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     NLOHMANN\_BASIC\_JSON\_TPL\_DECLARATION}
\DoxyCodeLine{51     \textcolor{keyword}{struct }string\_t\_helper<NLOHMANN\_BASIC\_JSON\_TPL>}
\DoxyCodeLine{52     \{}
\DoxyCodeLine{53         \textcolor{keyword}{using }type = StringType;}
\DoxyCodeLine{54     \};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56   \textcolor{keyword}{public}:}
\DoxyCodeLine{57     \textcolor{comment}{// for backwards compatibility accept BasicJsonType}}
\DoxyCodeLine{58     \textcolor{keyword}{using }string\_t = \textcolor{keyword}{typename} string\_t\_helper<RefStringType>::type;}
\DoxyCodeLine{59 }
\DoxyCodeLine{62     \textcolor{keyword}{explicit} \mbox{\hyperlink{classjson__pointer_a5288b8f5d6ff6faca37f664b98a16ecd}{json\_pointer}}(\textcolor{keyword}{const} string\_t\& s = \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{63         : reference\_tokens(split(s))}
\DoxyCodeLine{64     \{\}}
\DoxyCodeLine{65 }
\DoxyCodeLine{68     string\_t \mbox{\hyperlink{classjson__pointer_a6b94e2003be4cd72c4f145bcea2578ec}{to\_string}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{69 \textcolor{keyword}{    }\{}
\DoxyCodeLine{70         \textcolor{keywordflow}{return} std::accumulate(reference\_tokens.begin(), reference\_tokens.end(),}
\DoxyCodeLine{71                                string\_t\{\},}
\DoxyCodeLine{72                                [](\textcolor{keyword}{const} string\_t\& a, \textcolor{keyword}{const} string\_t\& b)}
\DoxyCodeLine{73         \{}
\DoxyCodeLine{74             return detail::concat(a, \textcolor{stringliteral}{'/'}, detail::escape(b));}
\DoxyCodeLine{75         \});}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{80     JSON\_HEDLEY\_DEPRECATED\_FOR(3.11.0, \mbox{\hyperlink{classjson__pointer_a6b94e2003be4cd72c4f145bcea2578ec}{to\_string}}())}
\DoxyCodeLine{81     operator string\_t()\textcolor{keyword}{ const}}
\DoxyCodeLine{82 \textcolor{keyword}{    }\{}
\DoxyCodeLine{83         \textcolor{keywordflow}{return} \mbox{\hyperlink{classjson__pointer_a6b94e2003be4cd72c4f145bcea2578ec}{to\_string}}();}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{preprocessor}{\#ifndef JSON\_NO\_IO}}
\DoxyCodeLine{89     \textcolor{keyword}{friend} std::ostream\& \mbox{\hyperlink{classjson__pointer_ad4140db2dd2f347f46f3abae0fc2156f}{operator<<}}(std::ostream\& o, \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& ptr)}
\DoxyCodeLine{90     \{}
\DoxyCodeLine{91         o << ptr.\mbox{\hyperlink{classjson__pointer_a6b94e2003be4cd72c4f145bcea2578ec}{to\_string}}();}
\DoxyCodeLine{92         \textcolor{keywordflow}{return} o;}
\DoxyCodeLine{93     \}}
\DoxyCodeLine{94 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{95 }
\DoxyCodeLine{98     \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& \mbox{\hyperlink{classjson__pointer_a8bb8e43c6e01a6370cd49ba130171219}{operator/=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& ptr)}
\DoxyCodeLine{99     \{}
\DoxyCodeLine{100         reference\_tokens.insert(reference\_tokens.end(),}
\DoxyCodeLine{101                                 ptr.reference\_tokens.begin(),}
\DoxyCodeLine{102                                 ptr.reference\_tokens.end());}
\DoxyCodeLine{103         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{104     \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{108     \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& \mbox{\hyperlink{classjson__pointer_aa810a9db8c1d6e67c4a3703dc66a18d4}{operator/=}}(string\_t token)}
\DoxyCodeLine{109     \{}
\DoxyCodeLine{110         \mbox{\hyperlink{classjson__pointer_adbe97f9c00a221fb7be88d940b39a24f}{push\_back}}(std::move(token));}
\DoxyCodeLine{111         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{112     \}}
\DoxyCodeLine{113 }
\DoxyCodeLine{116     \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& \mbox{\hyperlink{classjson__pointer_a6c2bffffbf08b77259e0b658c841703c}{operator/=}}(std::size\_t array\_idx)}
\DoxyCodeLine{117     \{}
\DoxyCodeLine{118         \textcolor{keywordflow}{return} *\textcolor{keyword}{this} /= std::to\_string(array\_idx);}
\DoxyCodeLine{119     \}}
\DoxyCodeLine{120 }
\DoxyCodeLine{123     \textcolor{keyword}{friend} \mbox{\hyperlink{classjson__pointer}{json\_pointer}} \mbox{\hyperlink{classjson__pointer_a90a11fe6c7f37b1746a3ff9cb24b0d53}{operator/}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& lhs,}
\DoxyCodeLine{124                                   \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& rhs)}
\DoxyCodeLine{125     \{}
\DoxyCodeLine{126         \textcolor{keywordflow}{return} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}(lhs) /= rhs;}
\DoxyCodeLine{127     \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{131     \textcolor{keyword}{friend} \mbox{\hyperlink{classjson__pointer}{json\_pointer}} \mbox{\hyperlink{classjson__pointer_a116956f4487af44732dd685e970679b0}{operator/}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& lhs, string\_t token) \textcolor{comment}{// NOLINT(performance-\/unnecessary-\/value-\/param)}}
\DoxyCodeLine{132     \{}
\DoxyCodeLine{133         \textcolor{keywordflow}{return} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}(lhs) /= std::move(token);}
\DoxyCodeLine{134     \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{138     \textcolor{keyword}{friend} \mbox{\hyperlink{classjson__pointer}{json\_pointer}} \mbox{\hyperlink{classjson__pointer_a29f6d4b492e784b9d196b05a4048c289}{operator/}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}\& lhs, std::size\_t array\_idx)}
\DoxyCodeLine{139     \{}
\DoxyCodeLine{140         \textcolor{keywordflow}{return} \mbox{\hyperlink{classjson__pointer}{json\_pointer}}(lhs) /= array\_idx;}
\DoxyCodeLine{141     \}}
\DoxyCodeLine{142 }
\DoxyCodeLine{145     \mbox{\hyperlink{classjson__pointer}{json\_pointer}} \mbox{\hyperlink{classjson__pointer_aa03c0c1206e171342d27a4583258858b}{parent\_pointer}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{146 \textcolor{keyword}{    }\{}
\DoxyCodeLine{147         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classjson__pointer_a5c3d08bd0a0e99c3377db33600c68a64}{empty}}())}
\DoxyCodeLine{148         \{}
\DoxyCodeLine{149             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{150         \}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152         \mbox{\hyperlink{classjson__pointer}{json\_pointer}} res = *\textcolor{keyword}{this};}
\DoxyCodeLine{153         res.\mbox{\hyperlink{classjson__pointer_a662118b470c87a1b564946c2602c49ce}{pop\_back}}();}
\DoxyCodeLine{154         \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{155     \}}
\DoxyCodeLine{156 }
\DoxyCodeLine{159     \textcolor{keywordtype}{void} \mbox{\hyperlink{classjson__pointer_a662118b470c87a1b564946c2602c49ce}{pop\_back}}()}
\DoxyCodeLine{160     \{}
\DoxyCodeLine{161         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(\mbox{\hyperlink{classjson__pointer_a5c3d08bd0a0e99c3377db33600c68a64}{empty}}()))}
\DoxyCodeLine{162         \{}
\DoxyCodeLine{163             JSON\_THROW(detail::out\_of\_range::create(405, \textcolor{stringliteral}{"{}JSON pointer has no parent"{}}, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{164         \}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166         reference\_tokens.pop\_back();}
\DoxyCodeLine{167     \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{171     \textcolor{keyword}{const} string\_t\& \mbox{\hyperlink{classjson__pointer_aba71e63e4032cfc46dd90aeb09e5cb0f}{back}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{172 \textcolor{keyword}{    }\{}
\DoxyCodeLine{173         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(\mbox{\hyperlink{classjson__pointer_a5c3d08bd0a0e99c3377db33600c68a64}{empty}}()))}
\DoxyCodeLine{174         \{}
\DoxyCodeLine{175             JSON\_THROW(detail::out\_of\_range::create(405, \textcolor{stringliteral}{"{}JSON pointer has no parent"{}}, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{176         \}}
\DoxyCodeLine{177 }
\DoxyCodeLine{178         \textcolor{keywordflow}{return} reference\_tokens.back();}
\DoxyCodeLine{179     \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{183     \textcolor{keywordtype}{void} \mbox{\hyperlink{classjson__pointer_adbe97f9c00a221fb7be88d940b39a24f}{push\_back}}(\textcolor{keyword}{const} string\_t\& token)}
\DoxyCodeLine{184     \{}
\DoxyCodeLine{185         reference\_tokens.push\_back(token);}
\DoxyCodeLine{186     \}}
\DoxyCodeLine{187 }
\DoxyCodeLine{190     \textcolor{keywordtype}{void} \mbox{\hyperlink{classjson__pointer_a6fa4848eafc232ae1af91c3d2696897e}{push\_back}}(string\_t\&\& token)}
\DoxyCodeLine{191     \{}
\DoxyCodeLine{192         reference\_tokens.push\_back(std::move(token));}
\DoxyCodeLine{193     \}}
\DoxyCodeLine{194 }
\DoxyCodeLine{197     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_a5c3d08bd0a0e99c3377db33600c68a64}{empty}}() const noexcept}
\DoxyCodeLine{198     \{}
\DoxyCodeLine{199         \textcolor{keywordflow}{return} reference\_tokens.empty();}
\DoxyCodeLine{200     \}}
\DoxyCodeLine{201 }
\DoxyCodeLine{202   \textcolor{keyword}{private}:}
\DoxyCodeLine{213     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{214     \textcolor{keyword}{static} \textcolor{keyword}{typename} BasicJsonType::size\_type array\_index(\textcolor{keyword}{const} string\_t\& s)}
\DoxyCodeLine{215     \{}
\DoxyCodeLine{216         \textcolor{keyword}{using }size\_type = \textcolor{keyword}{typename} BasicJsonType::size\_type;}
\DoxyCodeLine{217 }
\DoxyCodeLine{218         \textcolor{comment}{// error condition (cf. RFC 6901, Sect. 4)}}
\DoxyCodeLine{219         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(s.size() > 1 \&\& s[0] == \textcolor{charliteral}{'0'}))}
\DoxyCodeLine{220         \{}
\DoxyCodeLine{221             JSON\_THROW(\mbox{\hyperlink{classdetail_1_1parse__error_a07046ea9f33d28f120af188ed674d6df}{detail::parse\_error::create}}(106, 0, detail::concat(\textcolor{stringliteral}{"{}array index '"{}}, s, \textcolor{stringliteral}{"{}' must not begin with '0'"{}}), \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{222         \}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224         \textcolor{comment}{// error condition (cf. RFC 6901, Sect. 4)}}
\DoxyCodeLine{225         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(s.size() > 1 \&\& !(s[0] >= \textcolor{charliteral}{'1'} \&\& s[0] <= \textcolor{charliteral}{'9'})))}
\DoxyCodeLine{226         \{}
\DoxyCodeLine{227             JSON\_THROW(\mbox{\hyperlink{classdetail_1_1parse__error_a07046ea9f33d28f120af188ed674d6df}{detail::parse\_error::create}}(109, 0, detail::concat(\textcolor{stringliteral}{"{}array index '"{}}, s, \textcolor{stringliteral}{"{}' is not a number"{}}), \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{228         \}}
\DoxyCodeLine{229 }
\DoxyCodeLine{230         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* p = s.c\_str();}
\DoxyCodeLine{231         \textcolor{keywordtype}{char}* p\_end = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{232         errno = 0; \textcolor{comment}{// strtoull doesn't reset errno}}
\DoxyCodeLine{233         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} res = std::strtoull(p, \&p\_end, 10); \textcolor{comment}{// NOLINT(runtime/int)}}
\DoxyCodeLine{234         \textcolor{keywordflow}{if} (p == p\_end \textcolor{comment}{// invalid input or empty string}}
\DoxyCodeLine{235                 || errno == ERANGE \textcolor{comment}{// out of range}}
\DoxyCodeLine{236                 || JSON\_HEDLEY\_UNLIKELY(\textcolor{keyword}{static\_cast<}std::size\_t\textcolor{keyword}{>}(p\_end -\/ p) != s.size())) \textcolor{comment}{// incomplete read}}
\DoxyCodeLine{237         \{}
\DoxyCodeLine{238             JSON\_THROW(detail::out\_of\_range::create(404, detail::concat(\textcolor{stringliteral}{"{}unresolved reference token '"{}}, s, \textcolor{stringliteral}{"{}'"{}}), \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{239         \}}
\DoxyCodeLine{240 }
\DoxyCodeLine{241         \textcolor{comment}{// only triggered on special platforms (like 32bit), see also}}
\DoxyCodeLine{242         \textcolor{comment}{// https://github.com/nlohmann/json/pull/2203}}
\DoxyCodeLine{243         \textcolor{keywordflow}{if} (res >= \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long}\textcolor{keyword}{>}((std::numeric\_limits<size\_type>::max)()))  \textcolor{comment}{// NOLINT(runtime/int)}}
\DoxyCodeLine{244         \{}
\DoxyCodeLine{245             JSON\_THROW(detail::out\_of\_range::create(410, detail::concat(\textcolor{stringliteral}{"{}array index "{}}, s, \textcolor{stringliteral}{"{} exceeds size\_type"{}}), \textcolor{keyword}{nullptr}));   \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{246         \}}
\DoxyCodeLine{247 }
\DoxyCodeLine{248         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}size\_type\textcolor{keyword}{>}(res);}
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251   JSON\_PRIVATE\_UNLESS\_TESTED:}
\DoxyCodeLine{252     \mbox{\hyperlink{classjson__pointer}{json\_pointer}} top()\textcolor{keyword}{ const}}
\DoxyCodeLine{253 \textcolor{keyword}{    }\{}
\DoxyCodeLine{254         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(\mbox{\hyperlink{classjson__pointer_a5c3d08bd0a0e99c3377db33600c68a64}{empty}}()))}
\DoxyCodeLine{255         \{}
\DoxyCodeLine{256             JSON\_THROW(detail::out\_of\_range::create(405, \textcolor{stringliteral}{"{}JSON pointer has no parent"{}}, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{257         \}}
\DoxyCodeLine{258 }
\DoxyCodeLine{259         \mbox{\hyperlink{classjson__pointer}{json\_pointer}} result = *\textcolor{keyword}{this};}
\DoxyCodeLine{260         result.reference\_tokens = \{reference\_tokens[0]\};}
\DoxyCodeLine{261         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{262     \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   \textcolor{keyword}{private}:}
\DoxyCodeLine{273     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{274     BasicJsonType\& get\_and\_create(BasicJsonType\& j)\textcolor{keyword}{ const}}
\DoxyCodeLine{275 \textcolor{keyword}{    }\{}
\DoxyCodeLine{276         \textcolor{keyword}{auto}* result = \&j;}
\DoxyCodeLine{277 }
\DoxyCodeLine{278         \textcolor{comment}{// in case no reference tokens exist, return a reference to the JSON value}}
\DoxyCodeLine{279         \textcolor{comment}{// j which will be overwritten by a primitive value}}
\DoxyCodeLine{280         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& reference\_token : reference\_tokens)}
\DoxyCodeLine{281         \{}
\DoxyCodeLine{282             \textcolor{keywordflow}{switch} (result-\/>type())}
\DoxyCodeLine{283             \{}
\DoxyCodeLine{284                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{285                 \{}
\DoxyCodeLine{286                     \textcolor{keywordflow}{if} (reference\_token == \textcolor{stringliteral}{"{}0"{}})}
\DoxyCodeLine{287                     \{}
\DoxyCodeLine{288                         \textcolor{comment}{// start a new array if reference token is 0}}
\DoxyCodeLine{289                         result = \&result-\/>operator[](0);}
\DoxyCodeLine{290                     \}}
\DoxyCodeLine{291                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{292                     \{}
\DoxyCodeLine{293                         \textcolor{comment}{// start a new object otherwise}}
\DoxyCodeLine{294                         result = \&result-\/>operator[](reference\_token);}
\DoxyCodeLine{295                     \}}
\DoxyCodeLine{296                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{297                 \}}
\DoxyCodeLine{298 }
\DoxyCodeLine{299                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{300                 \{}
\DoxyCodeLine{301                     \textcolor{comment}{// create an entry in the object}}
\DoxyCodeLine{302                     result = \&result-\/>operator[](reference\_token);}
\DoxyCodeLine{303                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{304                 \}}
\DoxyCodeLine{305 }
\DoxyCodeLine{306                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{307                 \{}
\DoxyCodeLine{308                     \textcolor{comment}{// create an entry in the array}}
\DoxyCodeLine{309                     result = \&result-\/>operator[](array\_index<BasicJsonType>(reference\_token));}
\DoxyCodeLine{310                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{311                 \}}
\DoxyCodeLine{312 }
\DoxyCodeLine{313                 \textcolor{comment}{/*}}
\DoxyCodeLine{314 \textcolor{comment}{                The following code is only reached if there exists a reference}}
\DoxyCodeLine{315 \textcolor{comment}{                token \_and\_ the current value is primitive. In this case, we have}}
\DoxyCodeLine{316 \textcolor{comment}{                an error situation, because primitive values may only occur as}}
\DoxyCodeLine{317 \textcolor{comment}{                single value; that is, with an empty list of reference tokens.}}
\DoxyCodeLine{318 \textcolor{comment}{                */}}
\DoxyCodeLine{319                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{320                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{321                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{322                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{323                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{324                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{325                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{326                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{327                     JSON\_THROW(detail::type\_error::create(313, \textcolor{stringliteral}{"{}invalid value to unflatten"{}}, \&j));}
\DoxyCodeLine{328             \}}
\DoxyCodeLine{329         \}}
\DoxyCodeLine{330 }
\DoxyCodeLine{331         \textcolor{keywordflow}{return} *result;}
\DoxyCodeLine{332     \}}
\DoxyCodeLine{333 }
\DoxyCodeLine{353     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{354     BasicJsonType\& get\_unchecked(BasicJsonType* ptr)\textcolor{keyword}{ const}}
\DoxyCodeLine{355 \textcolor{keyword}{    }\{}
\DoxyCodeLine{356         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& reference\_token : reference\_tokens)}
\DoxyCodeLine{357         \{}
\DoxyCodeLine{358             \textcolor{comment}{// convert null values to arrays or objects before continuing}}
\DoxyCodeLine{359             \textcolor{keywordflow}{if} (ptr-\/>is\_null())}
\DoxyCodeLine{360             \{}
\DoxyCodeLine{361                 \textcolor{comment}{// check if reference token is a number}}
\DoxyCodeLine{362                 \textcolor{keyword}{const} \textcolor{keywordtype}{bool} nums =}
\DoxyCodeLine{363                     std::all\_of(reference\_token.begin(), reference\_token.end(),}
\DoxyCodeLine{364                                 [](\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x)}
\DoxyCodeLine{365                 \{}
\DoxyCodeLine{366                     return std::isdigit(x);}
\DoxyCodeLine{367                 \});}
\DoxyCodeLine{368 }
\DoxyCodeLine{369                 \textcolor{comment}{// change value to array for numbers or "{}-\/"{} or to object otherwise}}
\DoxyCodeLine{370                 *ptr = (nums || reference\_token == \textcolor{stringliteral}{"{}-\/"{}})}
\DoxyCodeLine{371                        ? \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}}
\DoxyCodeLine{372                        : \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}};}
\DoxyCodeLine{373             \}}
\DoxyCodeLine{374 }
\DoxyCodeLine{375             \textcolor{keywordflow}{switch} (ptr-\/>type())}
\DoxyCodeLine{376             \{}
\DoxyCodeLine{377                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{378                 \{}
\DoxyCodeLine{379                     \textcolor{comment}{// use unchecked object access}}
\DoxyCodeLine{380                     ptr = \&ptr-\/>operator[](reference\_token);}
\DoxyCodeLine{381                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{382                 \}}
\DoxyCodeLine{383 }
\DoxyCodeLine{384                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{385                 \{}
\DoxyCodeLine{386                     \textcolor{keywordflow}{if} (reference\_token == \textcolor{stringliteral}{"{}-\/"{}})}
\DoxyCodeLine{387                     \{}
\DoxyCodeLine{388                         \textcolor{comment}{// explicitly treat "{}-\/"{} as index beyond the end}}
\DoxyCodeLine{389                         ptr = \&ptr-\/>operator[](ptr-\/>m\_value.array-\/>size());}
\DoxyCodeLine{390                     \}}
\DoxyCodeLine{391                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{392                     \{}
\DoxyCodeLine{393                         \textcolor{comment}{// convert array index to number; unchecked access}}
\DoxyCodeLine{394                         ptr = \&ptr-\/>operator[](array\_index<BasicJsonType>(reference\_token));}
\DoxyCodeLine{395                     \}}
\DoxyCodeLine{396                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{397                 \}}
\DoxyCodeLine{398 }
\DoxyCodeLine{399                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{400                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{401                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{402                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{403                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{404                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{405                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{406                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{407                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{408                     JSON\_THROW(detail::out\_of\_range::create(404, detail::concat(\textcolor{stringliteral}{"{}unresolved reference token '"{}}, reference\_token, \textcolor{stringliteral}{"{}'"{}}), ptr));}
\DoxyCodeLine{409             \}}
\DoxyCodeLine{410         \}}
\DoxyCodeLine{411 }
\DoxyCodeLine{412         \textcolor{keywordflow}{return} *ptr;}
\DoxyCodeLine{413     \}}
\DoxyCodeLine{414 }
\DoxyCodeLine{421     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{422     BasicJsonType\& get\_checked(BasicJsonType* ptr)\textcolor{keyword}{ const}}
\DoxyCodeLine{423 \textcolor{keyword}{    }\{}
\DoxyCodeLine{424         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& reference\_token : reference\_tokens)}
\DoxyCodeLine{425         \{}
\DoxyCodeLine{426             \textcolor{keywordflow}{switch} (ptr-\/>type())}
\DoxyCodeLine{427             \{}
\DoxyCodeLine{428                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{429                 \{}
\DoxyCodeLine{430                     \textcolor{comment}{// note: at performs range check}}
\DoxyCodeLine{431                     ptr = \&ptr-\/>at(reference\_token);}
\DoxyCodeLine{432                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{433                 \}}
\DoxyCodeLine{434 }
\DoxyCodeLine{435                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{436                 \{}
\DoxyCodeLine{437                     \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_token == \textcolor{stringliteral}{"{}-\/"{}}))}
\DoxyCodeLine{438                     \{}
\DoxyCodeLine{439                         \textcolor{comment}{// "{}-\/"{} always fails the range check}}
\DoxyCodeLine{440                         JSON\_THROW(detail::out\_of\_range::create(402, detail::concat(}
\DoxyCodeLine{441                                 \textcolor{stringliteral}{"{}array index '-\/' ("{}}, std::to\_string(ptr-\/>m\_value.array-\/>size()),}
\DoxyCodeLine{442                                 \textcolor{stringliteral}{"{}) is out of range"{}}), ptr));}
\DoxyCodeLine{443                     \}}
\DoxyCodeLine{444 }
\DoxyCodeLine{445                     \textcolor{comment}{// note: at performs range check}}
\DoxyCodeLine{446                     ptr = \&ptr-\/>at(array\_index<BasicJsonType>(reference\_token));}
\DoxyCodeLine{447                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{448                 \}}
\DoxyCodeLine{449 }
\DoxyCodeLine{450                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{451                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{452                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{453                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{454                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{455                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{456                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{457                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{458                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{459                     JSON\_THROW(detail::out\_of\_range::create(404, detail::concat(\textcolor{stringliteral}{"{}unresolved reference token '"{}}, reference\_token, \textcolor{stringliteral}{"{}'"{}}), ptr));}
\DoxyCodeLine{460             \}}
\DoxyCodeLine{461         \}}
\DoxyCodeLine{462 }
\DoxyCodeLine{463         \textcolor{keywordflow}{return} *ptr;}
\DoxyCodeLine{464     \}}
\DoxyCodeLine{465 }
\DoxyCodeLine{479     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{480     \textcolor{keyword}{const} BasicJsonType\& get\_unchecked(\textcolor{keyword}{const} BasicJsonType* ptr)\textcolor{keyword}{ const}}
\DoxyCodeLine{481 \textcolor{keyword}{    }\{}
\DoxyCodeLine{482         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& reference\_token : reference\_tokens)}
\DoxyCodeLine{483         \{}
\DoxyCodeLine{484             \textcolor{keywordflow}{switch} (ptr-\/>type())}
\DoxyCodeLine{485             \{}
\DoxyCodeLine{486                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{487                 \{}
\DoxyCodeLine{488                     \textcolor{comment}{// use unchecked object access}}
\DoxyCodeLine{489                     ptr = \&ptr-\/>operator[](reference\_token);}
\DoxyCodeLine{490                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{491                 \}}
\DoxyCodeLine{492 }
\DoxyCodeLine{493                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{494                 \{}
\DoxyCodeLine{495                     \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_token == \textcolor{stringliteral}{"{}-\/"{}}))}
\DoxyCodeLine{496                     \{}
\DoxyCodeLine{497                         \textcolor{comment}{// "{}-\/"{} cannot be used for const access}}
\DoxyCodeLine{498                         JSON\_THROW(detail::out\_of\_range::create(402, detail::concat(\textcolor{stringliteral}{"{}array index '-\/' ("{}}, std::to\_string(ptr-\/>m\_value.array-\/>size()), \textcolor{stringliteral}{"{}) is out of range"{}}), ptr));}
\DoxyCodeLine{499                     \}}
\DoxyCodeLine{500 }
\DoxyCodeLine{501                     \textcolor{comment}{// use unchecked array access}}
\DoxyCodeLine{502                     ptr = \&ptr-\/>operator[](array\_index<BasicJsonType>(reference\_token));}
\DoxyCodeLine{503                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{504                 \}}
\DoxyCodeLine{505 }
\DoxyCodeLine{506                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{507                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{508                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{509                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{510                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{511                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{512                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{513                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{514                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{515                     JSON\_THROW(detail::out\_of\_range::create(404, detail::concat(\textcolor{stringliteral}{"{}unresolved reference token '"{}}, reference\_token, \textcolor{stringliteral}{"{}'"{}}), ptr));}
\DoxyCodeLine{516             \}}
\DoxyCodeLine{517         \}}
\DoxyCodeLine{518 }
\DoxyCodeLine{519         \textcolor{keywordflow}{return} *ptr;}
\DoxyCodeLine{520     \}}
\DoxyCodeLine{521 }
\DoxyCodeLine{528     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{529     \textcolor{keyword}{const} BasicJsonType\& get\_checked(\textcolor{keyword}{const} BasicJsonType* ptr)\textcolor{keyword}{ const}}
\DoxyCodeLine{530 \textcolor{keyword}{    }\{}
\DoxyCodeLine{531         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& reference\_token : reference\_tokens)}
\DoxyCodeLine{532         \{}
\DoxyCodeLine{533             \textcolor{keywordflow}{switch} (ptr-\/>type())}
\DoxyCodeLine{534             \{}
\DoxyCodeLine{535                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{536                 \{}
\DoxyCodeLine{537                     \textcolor{comment}{// note: at performs range check}}
\DoxyCodeLine{538                     ptr = \&ptr-\/>at(reference\_token);}
\DoxyCodeLine{539                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{540                 \}}
\DoxyCodeLine{541 }
\DoxyCodeLine{542                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{543                 \{}
\DoxyCodeLine{544                     \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_token == \textcolor{stringliteral}{"{}-\/"{}}))}
\DoxyCodeLine{545                     \{}
\DoxyCodeLine{546                         \textcolor{comment}{// "{}-\/"{} always fails the range check}}
\DoxyCodeLine{547                         JSON\_THROW(detail::out\_of\_range::create(402, detail::concat(}
\DoxyCodeLine{548                                 \textcolor{stringliteral}{"{}array index '-\/' ("{}}, std::to\_string(ptr-\/>m\_value.array-\/>size()),}
\DoxyCodeLine{549                                 \textcolor{stringliteral}{"{}) is out of range"{}}), ptr));}
\DoxyCodeLine{550                     \}}
\DoxyCodeLine{551 }
\DoxyCodeLine{552                     \textcolor{comment}{// note: at performs range check}}
\DoxyCodeLine{553                     ptr = \&ptr-\/>at(array\_index<BasicJsonType>(reference\_token));}
\DoxyCodeLine{554                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{555                 \}}
\DoxyCodeLine{556 }
\DoxyCodeLine{557                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{558                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{559                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{560                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{561                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{562                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{563                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{564                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{565                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{566                     JSON\_THROW(detail::out\_of\_range::create(404, detail::concat(\textcolor{stringliteral}{"{}unresolved reference token '"{}}, reference\_token, \textcolor{stringliteral}{"{}'"{}}), ptr));}
\DoxyCodeLine{567             \}}
\DoxyCodeLine{568         \}}
\DoxyCodeLine{569 }
\DoxyCodeLine{570         \textcolor{keywordflow}{return} *ptr;}
\DoxyCodeLine{571     \}}
\DoxyCodeLine{572 }
\DoxyCodeLine{577     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{578     \textcolor{keywordtype}{bool} contains(\textcolor{keyword}{const} BasicJsonType* ptr)\textcolor{keyword}{ const}}
\DoxyCodeLine{579 \textcolor{keyword}{    }\{}
\DoxyCodeLine{580         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& reference\_token : reference\_tokens)}
\DoxyCodeLine{581         \{}
\DoxyCodeLine{582             \textcolor{keywordflow}{switch} (ptr-\/>type())}
\DoxyCodeLine{583             \{}
\DoxyCodeLine{584                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{585                 \{}
\DoxyCodeLine{586                     \textcolor{keywordflow}{if} (!ptr-\/>contains(reference\_token))}
\DoxyCodeLine{587                     \{}
\DoxyCodeLine{588                         \textcolor{comment}{// we did not find the key in the object}}
\DoxyCodeLine{589                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{590                     \}}
\DoxyCodeLine{591 }
\DoxyCodeLine{592                     ptr = \&ptr-\/>operator[](reference\_token);}
\DoxyCodeLine{593                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{594                 \}}
\DoxyCodeLine{595 }
\DoxyCodeLine{596                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{597                 \{}
\DoxyCodeLine{598                     \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_token == \textcolor{stringliteral}{"{}-\/"{}}))}
\DoxyCodeLine{599                     \{}
\DoxyCodeLine{600                         \textcolor{comment}{// "{}-\/"{} always fails the range check}}
\DoxyCodeLine{601                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{602                     \}}
\DoxyCodeLine{603                     \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_token.size() == 1 \&\& !(\textcolor{stringliteral}{"{}0"{}} <= reference\_token \&\& reference\_token <= \textcolor{stringliteral}{"{}9"{}})))}
\DoxyCodeLine{604                     \{}
\DoxyCodeLine{605                         \textcolor{comment}{// invalid char}}
\DoxyCodeLine{606                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{607                     \}}
\DoxyCodeLine{608                     \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_token.size() > 1))}
\DoxyCodeLine{609                     \{}
\DoxyCodeLine{610                         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(!(\textcolor{charliteral}{'1'} <= reference\_token[0] \&\& reference\_token[0] <= \textcolor{charliteral}{'9'})))}
\DoxyCodeLine{611                         \{}
\DoxyCodeLine{612                             \textcolor{comment}{// first char should be between '1' and '9'}}
\DoxyCodeLine{613                             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{614                         \}}
\DoxyCodeLine{615                         \textcolor{keywordflow}{for} (std::size\_t i = 1; i < reference\_token.size(); i++)}
\DoxyCodeLine{616                         \{}
\DoxyCodeLine{617                             \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(!(\textcolor{charliteral}{'0'} <= reference\_token[i] \&\& reference\_token[i] <= \textcolor{charliteral}{'9'})))}
\DoxyCodeLine{618                             \{}
\DoxyCodeLine{619                                 \textcolor{comment}{// other char should be between '0' and '9'}}
\DoxyCodeLine{620                                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{621                             \}}
\DoxyCodeLine{622                         \}}
\DoxyCodeLine{623                     \}}
\DoxyCodeLine{624 }
\DoxyCodeLine{625                     \textcolor{keyword}{const} \textcolor{keyword}{auto} idx = array\_index<BasicJsonType>(reference\_token);}
\DoxyCodeLine{626                     \textcolor{keywordflow}{if} (idx >= ptr-\/>size())}
\DoxyCodeLine{627                     \{}
\DoxyCodeLine{628                         \textcolor{comment}{// index out of range}}
\DoxyCodeLine{629                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{630                     \}}
\DoxyCodeLine{631 }
\DoxyCodeLine{632                     ptr = \&ptr-\/>operator[](idx);}
\DoxyCodeLine{633                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{634                 \}}
\DoxyCodeLine{635 }
\DoxyCodeLine{636                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{637                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{638                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{639                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{640                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{641                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{642                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{643                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{644                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{645                 \{}
\DoxyCodeLine{646                     \textcolor{comment}{// we do not expect primitive values if there is still a}}
\DoxyCodeLine{647                     \textcolor{comment}{// reference token to process}}
\DoxyCodeLine{648                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{649                 \}}
\DoxyCodeLine{650             \}}
\DoxyCodeLine{651         \}}
\DoxyCodeLine{652 }
\DoxyCodeLine{653         \textcolor{comment}{// no reference token left means we found a primitive value}}
\DoxyCodeLine{654         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{655     \}}
\DoxyCodeLine{656 }
\DoxyCodeLine{666     \textcolor{keyword}{static} std::vector<string\_t> split(\textcolor{keyword}{const} string\_t\& reference\_string)}
\DoxyCodeLine{667     \{}
\DoxyCodeLine{668         std::vector<string\_t> result;}
\DoxyCodeLine{669 }
\DoxyCodeLine{670         \textcolor{comment}{// special case: empty reference string -\/> no reference tokens}}
\DoxyCodeLine{671         \textcolor{keywordflow}{if} (reference\_string.empty())}
\DoxyCodeLine{672         \{}
\DoxyCodeLine{673             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{674         \}}
\DoxyCodeLine{675 }
\DoxyCodeLine{676         \textcolor{comment}{// check if nonempty reference string begins with slash}}
\DoxyCodeLine{677         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(reference\_string[0] != \textcolor{charliteral}{'/'}))}
\DoxyCodeLine{678         \{}
\DoxyCodeLine{679             JSON\_THROW(\mbox{\hyperlink{classdetail_1_1parse__error_a07046ea9f33d28f120af188ed674d6df}{detail::parse\_error::create}}(107, 1, detail::concat(\textcolor{stringliteral}{"{}JSON pointer must be empty or begin with '/' -\/ was: '"{}}, reference\_string, \textcolor{stringliteral}{"{}'"{}}), \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{680         \}}
\DoxyCodeLine{681 }
\DoxyCodeLine{682         \textcolor{comment}{// extract the reference tokens:}}
\DoxyCodeLine{683         \textcolor{comment}{// -\/ slash: position of the last read slash (or end of string)}}
\DoxyCodeLine{684         \textcolor{comment}{// -\/ start: position after the previous slash}}
\DoxyCodeLine{685         \textcolor{keywordflow}{for} (}
\DoxyCodeLine{686             \textcolor{comment}{// search for the first slash after the first character}}
\DoxyCodeLine{687             std::size\_t slash = reference\_string.find\_first\_of(\textcolor{charliteral}{'/'}, 1),}
\DoxyCodeLine{688             \textcolor{comment}{// set the beginning of the first reference token}}
\DoxyCodeLine{689             start = 1;}
\DoxyCodeLine{690             \textcolor{comment}{// we can stop if start == 0 (if slash == string\_t::npos)}}
\DoxyCodeLine{691             start != 0;}
\DoxyCodeLine{692             \textcolor{comment}{// set the beginning of the next reference token}}
\DoxyCodeLine{693             \textcolor{comment}{// (will eventually be 0 if slash == string\_t::npos)}}
\DoxyCodeLine{694             start = (slash == string\_t::npos) ? 0 : slash + 1,}
\DoxyCodeLine{695             \textcolor{comment}{// find next slash}}
\DoxyCodeLine{696             slash = reference\_string.find\_first\_of(\textcolor{charliteral}{'/'}, start))}
\DoxyCodeLine{697         \{}
\DoxyCodeLine{698             \textcolor{comment}{// use the text between the beginning of the reference token}}
\DoxyCodeLine{699             \textcolor{comment}{// (start) and the last slash (slash).}}
\DoxyCodeLine{700             \textcolor{keyword}{auto} reference\_token = reference\_string.substr(start, slash -\/ start);}
\DoxyCodeLine{701 }
\DoxyCodeLine{702             \textcolor{comment}{// check reference tokens are properly escaped}}
\DoxyCodeLine{703             \textcolor{keywordflow}{for} (std::size\_t pos = reference\_token.find\_first\_of(\textcolor{charliteral}{'\string~'});}
\DoxyCodeLine{704                     pos != string\_t::npos;}
\DoxyCodeLine{705                     pos = reference\_token.find\_first\_of(\textcolor{charliteral}{'\string~'}, pos + 1))}
\DoxyCodeLine{706             \{}
\DoxyCodeLine{707                 JSON\_ASSERT(reference\_token[pos] == \textcolor{charliteral}{'\string~'});}
\DoxyCodeLine{708 }
\DoxyCodeLine{709                 \textcolor{comment}{// \string~ must be followed by 0 or 1}}
\DoxyCodeLine{710                 \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(pos == reference\_token.size() -\/ 1 ||}
\DoxyCodeLine{711                                          (reference\_token[pos + 1] != \textcolor{charliteral}{'0'} \&\&}
\DoxyCodeLine{712                                           reference\_token[pos + 1] != \textcolor{charliteral}{'1'})))}
\DoxyCodeLine{713                 \{}
\DoxyCodeLine{714                     JSON\_THROW(\mbox{\hyperlink{classdetail_1_1parse__error_a07046ea9f33d28f120af188ed674d6df}{detail::parse\_error::create}}(108, 0, \textcolor{stringliteral}{"{}escape character '\string~' must be followed with '0' or '1'"{}}, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{715                 \}}
\DoxyCodeLine{716             \}}
\DoxyCodeLine{717 }
\DoxyCodeLine{718             \textcolor{comment}{// finally, store the reference token}}
\DoxyCodeLine{719             detail::unescape(reference\_token);}
\DoxyCodeLine{720             result.push\_back(reference\_token);}
\DoxyCodeLine{721         \}}
\DoxyCodeLine{722 }
\DoxyCodeLine{723         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{724     \}}
\DoxyCodeLine{725 }
\DoxyCodeLine{726   \textcolor{keyword}{private}:}
\DoxyCodeLine{734     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{735     \textcolor{keyword}{static} \textcolor{keywordtype}{void} flatten(\textcolor{keyword}{const} string\_t\& reference\_string,}
\DoxyCodeLine{736                         \textcolor{keyword}{const} BasicJsonType\& value,}
\DoxyCodeLine{737                         BasicJsonType\& result)}
\DoxyCodeLine{738     \{}
\DoxyCodeLine{739         \textcolor{keywordflow}{switch} (value.type())}
\DoxyCodeLine{740         \{}
\DoxyCodeLine{741             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632af1f713c9e000f5d3f280adbd124df4f5}{detail::value\_t::array}}:}
\DoxyCodeLine{742             \{}
\DoxyCodeLine{743                 \textcolor{keywordflow}{if} (value.m\_value.array-\/>empty())}
\DoxyCodeLine{744                 \{}
\DoxyCodeLine{745                     \textcolor{comment}{// flatten empty array as null}}
\DoxyCodeLine{746                     result[reference\_string] = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{747                 \}}
\DoxyCodeLine{748                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{749                 \{}
\DoxyCodeLine{750                     \textcolor{comment}{// iterate array and use index as reference string}}
\DoxyCodeLine{751                     \textcolor{keywordflow}{for} (std::size\_t i = 0; i < value.m\_value.array-\/>size(); ++i)}
\DoxyCodeLine{752                     \{}
\DoxyCodeLine{753                         flatten(detail::concat(reference\_string, \textcolor{charliteral}{'/'}, std::to\_string(i)),}
\DoxyCodeLine{754                                 value.m\_value.array-\/>operator[](i), result);}
\DoxyCodeLine{755                     \}}
\DoxyCodeLine{756                 \}}
\DoxyCodeLine{757                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{758             \}}
\DoxyCodeLine{759 }
\DoxyCodeLine{760             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632aa8cfde6331bd59eb2ac96f8911c4b666}{detail::value\_t::object}}:}
\DoxyCodeLine{761             \{}
\DoxyCodeLine{762                 \textcolor{keywordflow}{if} (value.m\_value.object-\/>empty())}
\DoxyCodeLine{763                 \{}
\DoxyCodeLine{764                     \textcolor{comment}{// flatten empty object as null}}
\DoxyCodeLine{765                     result[reference\_string] = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{766                 \}}
\DoxyCodeLine{767                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{768                 \{}
\DoxyCodeLine{769                     \textcolor{comment}{// iterate object and use keys as reference string}}
\DoxyCodeLine{770                     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& element : *value.m\_value.object)}
\DoxyCodeLine{771                     \{}
\DoxyCodeLine{772                         flatten(detail::concat(reference\_string, \textcolor{charliteral}{'/'}, \mbox{\hyperlink{namespacedetail_af2a9ce4740e0b45d33129e2c8e53a0a8}{detail::escape}}(element.first)), element.second, result);}
\DoxyCodeLine{773                     \}}
\DoxyCodeLine{774                 \}}
\DoxyCodeLine{775                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{776             \}}
\DoxyCodeLine{777 }
\DoxyCodeLine{778             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a37a6259cc0c1dae299a7866489dff0bd}{detail::value\_t::null}}:}
\DoxyCodeLine{779             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ab45cffe084dd3d20d928bee85e7b0f21}{detail::value\_t::string}}:}
\DoxyCodeLine{780             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a84e2c64f38f78ba3ea5c905ab5a2da27}{detail::value\_t::boolean}}:}
\DoxyCodeLine{781             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a5763da164f8659d94a56e29df64b4bcc}{detail::value\_t::number\_integer}}:}
\DoxyCodeLine{782             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632adce7cc8ec29055c4158828921f2f265e}{detail::value\_t::number\_unsigned}}:}
\DoxyCodeLine{783             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632ad9966ecb59667235a57b4b999a649eef}{detail::value\_t::number\_float}}:}
\DoxyCodeLine{784             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a9d7183f16acce70658f686ae7f1a4d20}{detail::value\_t::binary}}:}
\DoxyCodeLine{785             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacedetail_a917c3efabea8a20dc72d9ae2c673d632a94708897ec9db8647dfe695714c98e46}{detail::value\_t::discarded}}:}
\DoxyCodeLine{786             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{787             \{}
\DoxyCodeLine{788                 \textcolor{comment}{// add primitive value with its reference string}}
\DoxyCodeLine{789                 result[reference\_string] = value;}
\DoxyCodeLine{790                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{791             \}}
\DoxyCodeLine{792         \}}
\DoxyCodeLine{793     \}}
\DoxyCodeLine{794 }
\DoxyCodeLine{805     \textcolor{keyword}{template}<\textcolor{keyword}{typename} BasicJsonType>}
\DoxyCodeLine{806     \textcolor{keyword}{static} BasicJsonType}
\DoxyCodeLine{807     unflatten(\textcolor{keyword}{const} BasicJsonType\& value)}
\DoxyCodeLine{808     \{}
\DoxyCodeLine{809         \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(!value.is\_object()))}
\DoxyCodeLine{810         \{}
\DoxyCodeLine{811             JSON\_THROW(detail::type\_error::create(314, \textcolor{stringliteral}{"{}only objects can be unflattened"{}}, \&value));}
\DoxyCodeLine{812         \}}
\DoxyCodeLine{813 }
\DoxyCodeLine{814         BasicJsonType result;}
\DoxyCodeLine{815 }
\DoxyCodeLine{816         \textcolor{comment}{// iterate the JSON object values}}
\DoxyCodeLine{817         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& element : *value.m\_value.object)}
\DoxyCodeLine{818         \{}
\DoxyCodeLine{819             \textcolor{keywordflow}{if} (JSON\_HEDLEY\_UNLIKELY(!element.second.is\_primitive()))}
\DoxyCodeLine{820             \{}
\DoxyCodeLine{821                 JSON\_THROW(detail::type\_error::create(315, \textcolor{stringliteral}{"{}values in object must be primitive"{}}, \&element.second));}
\DoxyCodeLine{822             \}}
\DoxyCodeLine{823 }
\DoxyCodeLine{824             \textcolor{comment}{// assign value to reference pointed to by JSON pointer; Note that if}}
\DoxyCodeLine{825             \textcolor{comment}{// the JSON pointer is "{}"{} (i.e., points to the whole value), function}}
\DoxyCodeLine{826             \textcolor{comment}{// get\_and\_create returns a reference to result itself. An assignment}}
\DoxyCodeLine{827             \textcolor{comment}{// will then create a primitive value.}}
\DoxyCodeLine{828             \mbox{\hyperlink{classjson__pointer}{json\_pointer}}(element.first).get\_and\_create(result) = element.second;}
\DoxyCodeLine{829         \}}
\DoxyCodeLine{830 }
\DoxyCodeLine{831         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{832     \}}
\DoxyCodeLine{833 }
\DoxyCodeLine{834     \textcolor{comment}{// can't use conversion operator because of ambiguity}}
\DoxyCodeLine{835     \mbox{\hyperlink{classjson__pointer}{json\_pointer<string\_t>}} convert() const\&}
\DoxyCodeLine{836     \{}
\DoxyCodeLine{837         \mbox{\hyperlink{classjson__pointer}{json\_pointer<string\_t>}} result;}
\DoxyCodeLine{838         result.reference\_tokens = reference\_tokens;}
\DoxyCodeLine{839         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{840     \}}
\DoxyCodeLine{841 }
\DoxyCodeLine{842     \mbox{\hyperlink{classjson__pointer}{json\_pointer<string\_t>}} convert()\&\&}
\DoxyCodeLine{843     \{}
\DoxyCodeLine{844         \mbox{\hyperlink{classjson__pointer}{json\_pointer<string\_t>}} result;}
\DoxyCodeLine{845         result.reference\_tokens = std::move(reference\_tokens);}
\DoxyCodeLine{846         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{847     \}}
\DoxyCodeLine{848 }
\DoxyCodeLine{849   \textcolor{keyword}{public}:}
\DoxyCodeLine{850 \textcolor{preprocessor}{\#if JSON\_HAS\_THREE\_WAY\_COMPARISON}}
\DoxyCodeLine{853     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{854     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_a613a4889154f7ab2ee4efbe0fe147cf2}{operator==}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{const} \textcolor{keyword}{noexcept}}
\DoxyCodeLine{855     \{}
\DoxyCodeLine{856         \textcolor{keywordflow}{return} reference\_tokens == rhs.reference\_tokens;}
\DoxyCodeLine{857     \}}
\DoxyCodeLine{858 }
\DoxyCodeLine{861     JSON\_HEDLEY\_DEPRECATED\_FOR(3.11.2, \textcolor{keyword}{operator}==(\mbox{\hyperlink{classjson__pointer}{json\_pointer}}))}
\DoxyCodeLine{862     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_a613a4889154f7ab2ee4efbe0fe147cf2}{operator==}}(\textcolor{keyword}{const} string\_t\& rhs)\textcolor{keyword}{ const}}
\DoxyCodeLine{863 \textcolor{keyword}{    }\{}
\DoxyCodeLine{864         \textcolor{keywordflow}{return} *\textcolor{keyword}{this} == \mbox{\hyperlink{classjson__pointer}{json\_pointer}}(rhs);}
\DoxyCodeLine{865     \}}
\DoxyCodeLine{866 }
\DoxyCodeLine{868     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{869     std::strong\_ordering operator<=>(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{comment}{// *NOPAD*}}
\DoxyCodeLine{870     \{}
\DoxyCodeLine{871         \textcolor{keywordflow}{return}  reference\_tokens <=> rhs.reference\_tokens; \textcolor{comment}{// *NOPAD*}}
\DoxyCodeLine{872     \}}
\DoxyCodeLine{873 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{876     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{877     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{878     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_a613a4889154f7ab2ee4efbe0fe147cf2}{operator==}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{879                            \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{880 }
\DoxyCodeLine{883     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} StringType>}
\DoxyCodeLine{884     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{885     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_a613a4889154f7ab2ee4efbe0fe147cf2}{operator==}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{886                            \textcolor{keyword}{const} StringType\& rhs);}
\DoxyCodeLine{887 }
\DoxyCodeLine{890     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeRhs, \textcolor{keyword}{typename} StringType>}
\DoxyCodeLine{891     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{892     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_a613a4889154f7ab2ee4efbe0fe147cf2}{operator==}}(\textcolor{keyword}{const} StringType\& lhs,}
\DoxyCodeLine{893                            \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs);}
\DoxyCodeLine{894 }
\DoxyCodeLine{897     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{898     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{899     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_aa72a84c70e970b738f1262cfd8a66b4d}{operator!=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{900                            \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{901 }
\DoxyCodeLine{904     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} StringType>}
\DoxyCodeLine{905     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{906     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_aa72a84c70e970b738f1262cfd8a66b4d}{operator!=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{907                            \textcolor{keyword}{const} StringType\& rhs);}
\DoxyCodeLine{908 }
\DoxyCodeLine{911     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeRhs, \textcolor{keyword}{typename} StringType>}
\DoxyCodeLine{912     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{913     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_aa72a84c70e970b738f1262cfd8a66b4d}{operator!=}}(\textcolor{keyword}{const} StringType\& lhs,}
\DoxyCodeLine{914                            \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs);}
\DoxyCodeLine{915 }
\DoxyCodeLine{917     \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{918     \textcolor{comment}{// NOLINTNEXTLINE(readability-\/redundant-\/declaration)}}
\DoxyCodeLine{919     \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjson__pointer_af8c9bbaed20be0634a2e522f54265d96}{operator<}}(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{920                           \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{921 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{922 }
\DoxyCodeLine{923   \textcolor{keyword}{private}:}
\DoxyCodeLine{925     std::vector<string\_t> reference\_tokens;}
\DoxyCodeLine{926 \};}
\DoxyCodeLine{927 }
\DoxyCodeLine{928 \textcolor{preprocessor}{\#if !JSON\_HAS\_THREE\_WAY\_COMPARISON}}
\DoxyCodeLine{929 \textcolor{comment}{// functions cannot be defined inside class due to ODR violations}}
\DoxyCodeLine{930 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{931 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{932                        \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{933 \{}
\DoxyCodeLine{934     \textcolor{keywordflow}{return} lhs.reference\_tokens == rhs.reference\_tokens;}
\DoxyCodeLine{935 \}}
\DoxyCodeLine{936 }
\DoxyCodeLine{937 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs,}
\DoxyCodeLine{938          \textcolor{keyword}{typename} StringType = \textcolor{keyword}{typename} json\_pointer<RefStringTypeLhs>::string\_t>}
\DoxyCodeLine{939 JSON\_HEDLEY\_DEPRECATED\_FOR(3.11.2, \textcolor{keyword}{operator}==(\mbox{\hyperlink{classjson__pointer}{json\_pointer}}, \mbox{\hyperlink{classjson__pointer}{json\_pointer}}))}
\DoxyCodeLine{940 inline \textcolor{keywordtype}{bool} operator==(const \mbox{\hyperlink{classjson__pointer}{json\_pointer}}<RefStringTypeLhs>\& lhs,}
\DoxyCodeLine{941                        const StringType\& rhs)}
\DoxyCodeLine{942 \{}
\DoxyCodeLine{943     \textcolor{keywordflow}{return} lhs == \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}(rhs);}
\DoxyCodeLine{944 \}}
\DoxyCodeLine{945 }
\DoxyCodeLine{946 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeRhs,}
\DoxyCodeLine{947          \textcolor{keyword}{typename} StringType = \textcolor{keyword}{typename} json\_pointer<RefStringTypeRhs>::string\_t>}
\DoxyCodeLine{948 JSON\_HEDLEY\_DEPRECATED\_FOR(3.11.2, \textcolor{keyword}{operator}==(\mbox{\hyperlink{classjson__pointer}{json\_pointer}}, \mbox{\hyperlink{classjson__pointer}{json\_pointer}}))}
\DoxyCodeLine{949 inline \textcolor{keywordtype}{bool} operator==(const StringType\& lhs,}
\DoxyCodeLine{950                        const \mbox{\hyperlink{classjson__pointer}{json\_pointer}}<RefStringTypeRhs>\& rhs)}
\DoxyCodeLine{951 \{}
\DoxyCodeLine{952     \textcolor{keywordflow}{return} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}(lhs) == rhs;}
\DoxyCodeLine{953 \}}
\DoxyCodeLine{954 }
\DoxyCodeLine{955 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{956 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{957                        \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{958 \{}
\DoxyCodeLine{959     \textcolor{keywordflow}{return} !(lhs == rhs);}
\DoxyCodeLine{960 \}}
\DoxyCodeLine{961 }
\DoxyCodeLine{962 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs,}
\DoxyCodeLine{963          \textcolor{keyword}{typename} StringType = \textcolor{keyword}{typename} json\_pointer<RefStringTypeLhs>::string\_t>}
\DoxyCodeLine{964 JSON\_HEDLEY\_DEPRECATED\_FOR(3.11.2, \textcolor{keyword}{operator}!=(\mbox{\hyperlink{classjson__pointer}{json\_pointer}}, \mbox{\hyperlink{classjson__pointer}{json\_pointer}}))}
\DoxyCodeLine{965 inline \textcolor{keywordtype}{bool} operator!=(const \mbox{\hyperlink{classjson__pointer}{json\_pointer}}<RefStringTypeLhs>\& lhs,}
\DoxyCodeLine{966                        const StringType\& rhs)}
\DoxyCodeLine{967 \{}
\DoxyCodeLine{968     \textcolor{keywordflow}{return} !(lhs == rhs);}
\DoxyCodeLine{969 \}}
\DoxyCodeLine{970 }
\DoxyCodeLine{971 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeRhs,}
\DoxyCodeLine{972          \textcolor{keyword}{typename} StringType = \textcolor{keyword}{typename} json\_pointer<RefStringTypeRhs>::string\_t>}
\DoxyCodeLine{973 JSON\_HEDLEY\_DEPRECATED\_FOR(3.11.2, \textcolor{keyword}{operator}!=(\mbox{\hyperlink{classjson__pointer}{json\_pointer}}, \mbox{\hyperlink{classjson__pointer}{json\_pointer}}))}
\DoxyCodeLine{974 inline \textcolor{keywordtype}{bool} operator!=(const StringType\& lhs,}
\DoxyCodeLine{975                        const \mbox{\hyperlink{classjson__pointer}{json\_pointer}}<RefStringTypeRhs>\& rhs)}
\DoxyCodeLine{976 \{}
\DoxyCodeLine{977     \textcolor{keywordflow}{return} !(lhs == rhs);}
\DoxyCodeLine{978 \}}
\DoxyCodeLine{979 }
\DoxyCodeLine{980 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RefStringTypeLhs, \textcolor{keyword}{typename} RefStringTypeRhs>}
\DoxyCodeLine{981 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator<(\textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeLhs>}}\& lhs,}
\DoxyCodeLine{982                       \textcolor{keyword}{const} \mbox{\hyperlink{classjson__pointer}{json\_pointer<RefStringTypeRhs>}}\& rhs) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{983 \{}
\DoxyCodeLine{984     \textcolor{keywordflow}{return} lhs.reference\_tokens < rhs.reference\_tokens;}
\DoxyCodeLine{985 \}}
\DoxyCodeLine{986 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{987 }
\DoxyCodeLine{988 NLOHMANN\_JSON\_NAMESPACE\_END}

\end{DoxyCode}
