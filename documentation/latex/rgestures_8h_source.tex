\hypertarget{rgestures_8h_source}{}\doxysection{rgestures.\+h}
\label{rgestures_8h_source}\index{build/\_deps/raylib-\/src/src/rgestures.h@{build/\_deps/raylib-\/src/src/rgestures.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/**********************************************************************************************}}
\DoxyCodeLine{2 \textcolor{comment}{*}}
\DoxyCodeLine{3 \textcolor{comment}{*   rgestures -\/ Gestures system, gestures processing based on input events (touch/mouse)}}
\DoxyCodeLine{4 \textcolor{comment}{*}}
\DoxyCodeLine{5 \textcolor{comment}{*   NOTE: Memory footprint of this library is aproximately 128 bytes (global variables)}}
\DoxyCodeLine{6 \textcolor{comment}{*}}
\DoxyCodeLine{7 \textcolor{comment}{*   CONFIGURATION:}}
\DoxyCodeLine{8 \textcolor{comment}{*}}
\DoxyCodeLine{9 \textcolor{comment}{*   \#define GESTURES\_IMPLEMENTATION}}
\DoxyCodeLine{10 \textcolor{comment}{*       Generates the implementation of the library into the included file.}}
\DoxyCodeLine{11 \textcolor{comment}{*       If not defined, the library is in header only mode and can be included in other headers}}
\DoxyCodeLine{12 \textcolor{comment}{*       or source files without problems. But only ONE file should hold the implementation.}}
\DoxyCodeLine{13 \textcolor{comment}{*}}
\DoxyCodeLine{14 \textcolor{comment}{*   \#define GESTURES\_STANDALONE}}
\DoxyCodeLine{15 \textcolor{comment}{*       If defined, the library can be used as standalone to process gesture events with}}
\DoxyCodeLine{16 \textcolor{comment}{*       no external dependencies.}}
\DoxyCodeLine{17 \textcolor{comment}{*}}
\DoxyCodeLine{18 \textcolor{comment}{*   CONTRIBUTORS:}}
\DoxyCodeLine{19 \textcolor{comment}{*       Marc Palau:         Initial implementation (2014)}}
\DoxyCodeLine{20 \textcolor{comment}{*       Albert Martos:      Complete redesign and testing (2015)}}
\DoxyCodeLine{21 \textcolor{comment}{*       Ian Eito:           Complete redesign and testing (2015)}}
\DoxyCodeLine{22 \textcolor{comment}{*       Ramon Santamaria:   Supervision, review, update and maintenance}}
\DoxyCodeLine{23 \textcolor{comment}{*}}
\DoxyCodeLine{24 \textcolor{comment}{*}}
\DoxyCodeLine{25 \textcolor{comment}{*   LICENSE: zlib/libpng}}
\DoxyCodeLine{26 \textcolor{comment}{*}}
\DoxyCodeLine{27 \textcolor{comment}{*   Copyright (c) 2014-\/2022 Ramon Santamaria (@raysan5)}}
\DoxyCodeLine{28 \textcolor{comment}{*}}
\DoxyCodeLine{29 \textcolor{comment}{*   This software is provided "{}as-\/is"{}, without any express or implied warranty. In no event}}
\DoxyCodeLine{30 \textcolor{comment}{*   will the authors be held liable for any damages arising from the use of this software.}}
\DoxyCodeLine{31 \textcolor{comment}{*}}
\DoxyCodeLine{32 \textcolor{comment}{*   Permission is granted to anyone to use this software for any purpose, including commercial}}
\DoxyCodeLine{33 \textcolor{comment}{*   applications, and to alter it and redistribute it freely, subject to the following restrictions:}}
\DoxyCodeLine{34 \textcolor{comment}{*}}
\DoxyCodeLine{35 \textcolor{comment}{*     1. The origin of this software must not be misrepresented; you must not claim that you}}
\DoxyCodeLine{36 \textcolor{comment}{*     wrote the original software. If you use this software in a product, an acknowledgment}}
\DoxyCodeLine{37 \textcolor{comment}{*     in the product documentation would be appreciated but is not required.}}
\DoxyCodeLine{38 \textcolor{comment}{*}}
\DoxyCodeLine{39 \textcolor{comment}{*     2. Altered source versions must be plainly marked as such, and must not be misrepresented}}
\DoxyCodeLine{40 \textcolor{comment}{*     as being the original software.}}
\DoxyCodeLine{41 \textcolor{comment}{*}}
\DoxyCodeLine{42 \textcolor{comment}{*     3. This notice may not be removed or altered from any source distribution.}}
\DoxyCodeLine{43 \textcolor{comment}{*}}
\DoxyCodeLine{44 \textcolor{comment}{**********************************************************************************************/}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{preprocessor}{\#ifndef RGESTURES\_H}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#define RGESTURES\_H}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{preprocessor}{\#ifndef PI}}
\DoxyCodeLine{50 \textcolor{preprocessor}{    \#define PI 3.14159265358979323846}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{54 \textcolor{comment}{// Defines and Macros}}
\DoxyCodeLine{55 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{56 \textcolor{preprocessor}{\#ifndef MAX\_TOUCH\_POINTS}}
\DoxyCodeLine{57 \textcolor{preprocessor}{    \#define MAX\_TOUCH\_POINTS        8        }\textcolor{comment}{// Maximum number of touch points supported}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{61 \textcolor{comment}{// Types and Structures Definition}}
\DoxyCodeLine{62 \textcolor{comment}{// NOTE: Below types are required for GESTURES\_STANDALONE usage}}
\DoxyCodeLine{63 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{64 \textcolor{comment}{// Boolean type}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#if (defined(\_\_STDC\_\_) \&\& \_\_STDC\_VERSION\_\_ >= 199901L) || (defined(\_MSC\_VER) \&\& \_MSC\_VER >= 1800)}}
\DoxyCodeLine{66 \textcolor{preprocessor}{    \#include <stdbool.h>}}
\DoxyCodeLine{67 \textcolor{preprocessor}{\#elif !defined(\_\_cplusplus) \&\& !defined(bool) \&\& !defined(RL\_BOOL\_TYPE)}}
\DoxyCodeLine{68     \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \textcolor{keywordtype}{bool} \{ \textcolor{keyword}{false} = 0, \textcolor{keyword}{true} = !\textcolor{keyword}{false} \} bool;}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{preprocessor}{\#if !defined(RL\_VECTOR2\_TYPE)}}
\DoxyCodeLine{72 \textcolor{comment}{// Vector2 type}}
\DoxyCodeLine{73 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structVector2}{Vector2}} \{}
\DoxyCodeLine{74     \textcolor{keywordtype}{float} x;}
\DoxyCodeLine{75     \textcolor{keywordtype}{float} y;}
\DoxyCodeLine{76 \} \mbox{\hyperlink{structVector2}{Vector2}};}
\DoxyCodeLine{77 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 \textcolor{preprocessor}{\#if defined(GESTURES\_STANDALONE)}}
\DoxyCodeLine{80 \textcolor{comment}{// Gestures type}}
\DoxyCodeLine{81 \textcolor{comment}{// NOTE: It could be used as flags to enable only some gestures}}
\DoxyCodeLine{82 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{}
\DoxyCodeLine{83     GESTURE\_NONE        = 0,}
\DoxyCodeLine{84     GESTURE\_TAP         = 1,}
\DoxyCodeLine{85     GESTURE\_DOUBLETAP   = 2,}
\DoxyCodeLine{86     GESTURE\_HOLD        = 4,}
\DoxyCodeLine{87     GESTURE\_DRAG        = 8,}
\DoxyCodeLine{88     GESTURE\_SWIPE\_RIGHT = 16,}
\DoxyCodeLine{89     GESTURE\_SWIPE\_LEFT  = 32,}
\DoxyCodeLine{90     GESTURE\_SWIPE\_UP    = 64,}
\DoxyCodeLine{91     GESTURE\_SWIPE\_DOWN  = 128,}
\DoxyCodeLine{92     GESTURE\_PINCH\_IN    = 256,}
\DoxyCodeLine{93     GESTURE\_PINCH\_OUT   = 512}
\DoxyCodeLine{94 \} Gesture;}
\DoxyCodeLine{95 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{96 }
\DoxyCodeLine{97 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{}
\DoxyCodeLine{98     TOUCH\_ACTION\_UP = 0,}
\DoxyCodeLine{99     TOUCH\_ACTION\_DOWN,}
\DoxyCodeLine{100     TOUCH\_ACTION\_MOVE,}
\DoxyCodeLine{101     TOUCH\_ACTION\_CANCEL}
\DoxyCodeLine{102 \} TouchAction;}
\DoxyCodeLine{103 }
\DoxyCodeLine{104 \textcolor{comment}{// Gesture event}}
\DoxyCodeLine{105 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{106     \textcolor{keywordtype}{int} touchAction;}
\DoxyCodeLine{107     \textcolor{keywordtype}{int} pointCount;}
\DoxyCodeLine{108     \textcolor{keywordtype}{int} pointId[MAX\_TOUCH\_POINTS];}
\DoxyCodeLine{109     \mbox{\hyperlink{structVector2}{Vector2}} position[MAX\_TOUCH\_POINTS];}
\DoxyCodeLine{110 \} \mbox{\hyperlink{structGestureEvent}{GestureEvent}};}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{113 \textcolor{comment}{// Global Variables Definition}}
\DoxyCodeLine{114 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{115 \textcolor{comment}{//...}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{118 \textcolor{comment}{// Module Functions Declaration}}
\DoxyCodeLine{119 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \textcolor{preprocessor}{\#if defined(\_\_cplusplus)}}
\DoxyCodeLine{122 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{            \textcolor{comment}{// Prevents name mangling of functions}}
\DoxyCodeLine{123 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{keywordtype}{void} ProcessGestureEvent(\mbox{\hyperlink{structGestureEvent}{GestureEvent}} event);           \textcolor{comment}{// Process gesture event and translate it into gestures}}
\DoxyCodeLine{126 \textcolor{keywordtype}{void} UpdateGestures(\textcolor{keywordtype}{void});                              \textcolor{comment}{// Update gestures detected (must be called every frame)}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 \textcolor{preprocessor}{\#if defined(GESTURES\_STANDALONE)}}
\DoxyCodeLine{129 \textcolor{keywordtype}{void} SetGesturesEnabled(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} flags);            \textcolor{comment}{// Enable a set of gestures using flags}}
\DoxyCodeLine{130 \textcolor{keywordtype}{bool} IsGestureDetected(\textcolor{keywordtype}{int} gesture);                    \textcolor{comment}{// Check if a gesture have been detected}}
\DoxyCodeLine{131 \textcolor{keywordtype}{int} GetGestureDetected(\textcolor{keywordtype}{void});                           \textcolor{comment}{// Get latest detected gesture}}
\DoxyCodeLine{132 }
\DoxyCodeLine{133 \textcolor{keywordtype}{float} GetGestureHoldDuration(\textcolor{keywordtype}{void});                     \textcolor{comment}{// Get gesture hold time in milliseconds}}
\DoxyCodeLine{134 \mbox{\hyperlink{structVector2}{Vector2}} GetGestureDragVector(\textcolor{keywordtype}{void});                     \textcolor{comment}{// Get gesture drag vector}}
\DoxyCodeLine{135 \textcolor{keywordtype}{float} GetGestureDragAngle(\textcolor{keywordtype}{void});                        \textcolor{comment}{// Get gesture drag angle}}
\DoxyCodeLine{136 \mbox{\hyperlink{structVector2}{Vector2}} GetGesturePinchVector(\textcolor{keywordtype}{void});                    \textcolor{comment}{// Get gesture pinch delta}}
\DoxyCodeLine{137 \textcolor{keywordtype}{float} GetGesturePinchAngle(\textcolor{keywordtype}{void});                       \textcolor{comment}{// Get gesture pinch angle}}
\DoxyCodeLine{138 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{139 }
\DoxyCodeLine{140 \textcolor{preprocessor}{\#if defined(\_\_cplusplus)}}
\DoxyCodeLine{141 \}}
\DoxyCodeLine{142 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{143 }
\DoxyCodeLine{144 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// GESTURES\_H}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146 \textcolor{comment}{/***********************************************************************************}}
\DoxyCodeLine{147 \textcolor{comment}{*}}
\DoxyCodeLine{148 \textcolor{comment}{*   GESTURES IMPLEMENTATION}}
\DoxyCodeLine{149 \textcolor{comment}{*}}
\DoxyCodeLine{150 \textcolor{comment}{************************************************************************************/}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{preprocessor}{\#if defined(GESTURES\_IMPLEMENTATION)}}
\DoxyCodeLine{153 }
\DoxyCodeLine{154 \textcolor{preprocessor}{\#if defined(\_WIN32)}}
\DoxyCodeLine{155 \textcolor{preprocessor}{    \#if defined(\_\_cplusplus)}}
\DoxyCodeLine{156     \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{        \textcolor{comment}{// Prevents name mangling of functions}}
\DoxyCodeLine{157 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{158     \textcolor{comment}{// Functions required to query time on Windows}}
\DoxyCodeLine{159     \textcolor{keywordtype}{int} \_\_stdcall QueryPerformanceCounter(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} *lpPerformanceCount);}
\DoxyCodeLine{160     \textcolor{keywordtype}{int} \_\_stdcall QueryPerformanceFrequency(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} *lpFrequency);}
\DoxyCodeLine{161 \textcolor{preprocessor}{    \#if defined(\_\_cplusplus)}}
\DoxyCodeLine{162     \}}
\DoxyCodeLine{163 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{164 \textcolor{preprocessor}{\#elif defined(\_\_linux\_\_)}}
\DoxyCodeLine{165 \textcolor{preprocessor}{    \#if \_POSIX\_C\_SOURCE < 199309L}}
\DoxyCodeLine{166 \textcolor{preprocessor}{        \#undef \_POSIX\_C\_SOURCE}}
\DoxyCodeLine{167 \textcolor{preprocessor}{        \#define \_POSIX\_C\_SOURCE 199309L }\textcolor{comment}{// Required for CLOCK\_MONOTONIC if compiled with c99 without gnu ext.}}
\DoxyCodeLine{168 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{169 \textcolor{preprocessor}{    \#include <sys/time.h>}               \textcolor{comment}{// Required for: timespec}}
\DoxyCodeLine{170 \textcolor{preprocessor}{    \#include <time.h>}                   \textcolor{comment}{// Required for: clock\_gettime()}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172 \textcolor{preprocessor}{    \#include <math.h>}                   \textcolor{comment}{// Required for: sqrtf(), atan2f()}}
\DoxyCodeLine{173 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{174 \textcolor{preprocessor}{\#if defined(\_\_APPLE\_\_)                  }\textcolor{comment}{// macOS also defines \_\_MACH\_\_}}
\DoxyCodeLine{175 \textcolor{preprocessor}{    \#include <mach/clock.h>}             \textcolor{comment}{// Required for: clock\_get\_time()}}
\DoxyCodeLine{176 \textcolor{preprocessor}{    \#include <mach/mach.h>}              \textcolor{comment}{// Required for: mach\_timespec\_t}}
\DoxyCodeLine{177 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{180 \textcolor{comment}{// Defines and Macros}}
\DoxyCodeLine{181 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{182 \textcolor{preprocessor}{\#define FORCE\_TO\_SWIPE      0.0005f     }\textcolor{comment}{// Swipe force, measured in normalized screen units/time}}
\DoxyCodeLine{183 \textcolor{preprocessor}{\#define MINIMUM\_DRAG        0.015f      }\textcolor{comment}{// Drag minimum force, measured in normalized screen units (0.0f to 1.0f)}}
\DoxyCodeLine{184 \textcolor{preprocessor}{\#define MINIMUM\_PINCH       0.005f      }\textcolor{comment}{// Pinch minimum force, measured in normalized screen units (0.0f to 1.0f)}}
\DoxyCodeLine{185 \textcolor{preprocessor}{\#define TAP\_TIMEOUT         300         }\textcolor{comment}{// Tap minimum time, measured in milliseconds}}
\DoxyCodeLine{186 \textcolor{preprocessor}{\#define PINCH\_TIMEOUT       300         }\textcolor{comment}{// Pinch minimum time, measured in milliseconds}}
\DoxyCodeLine{187 \textcolor{preprocessor}{\#define DOUBLETAP\_RANGE     0.03f       }\textcolor{comment}{// DoubleTap range, measured in normalized screen units (0.0f to 1.0f)}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{190 \textcolor{comment}{// Types and Structures Definition}}
\DoxyCodeLine{191 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{192 }
\DoxyCodeLine{193 \textcolor{comment}{// Gestures module state context [136 bytes]}}
\DoxyCodeLine{194 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{195     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} current;               \textcolor{comment}{// Current detected gesture}}
\DoxyCodeLine{196     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} enabledFlags;          \textcolor{comment}{// Enabled gestures flags}}
\DoxyCodeLine{197     \textcolor{keyword}{struct }\{}
\DoxyCodeLine{198         \textcolor{keywordtype}{int} firstId;                    \textcolor{comment}{// Touch id for first touch point}}
\DoxyCodeLine{199         \textcolor{keywordtype}{int} pointCount;                 \textcolor{comment}{// Touch points counter}}
\DoxyCodeLine{200         \textcolor{keywordtype}{double} eventTime;               \textcolor{comment}{// Time stamp when an event happened}}
\DoxyCodeLine{201         \mbox{\hyperlink{structVector2}{Vector2}} upPosition;             \textcolor{comment}{// Touch up position}}
\DoxyCodeLine{202         \mbox{\hyperlink{structVector2}{Vector2}} downPositionA;          \textcolor{comment}{// First touch down position}}
\DoxyCodeLine{203         \mbox{\hyperlink{structVector2}{Vector2}} downPositionB;          \textcolor{comment}{// Second touch down position}}
\DoxyCodeLine{204         \mbox{\hyperlink{structVector2}{Vector2}} downDragPosition;       \textcolor{comment}{// Touch drag position}}
\DoxyCodeLine{205         \mbox{\hyperlink{structVector2}{Vector2}} moveDownPositionA;      \textcolor{comment}{// First touch down position on move}}
\DoxyCodeLine{206         \mbox{\hyperlink{structVector2}{Vector2}} moveDownPositionB;      \textcolor{comment}{// Second touch down position on move}}
\DoxyCodeLine{207         \textcolor{keywordtype}{int} tapCounter;                 \textcolor{comment}{// TAP counter (one tap implies TOUCH\_ACTION\_DOWN and TOUCH\_ACTION\_UP actions)}}
\DoxyCodeLine{208     \} Touch;}
\DoxyCodeLine{209     \textcolor{keyword}{struct }\{}
\DoxyCodeLine{210         \textcolor{keywordtype}{bool} resetRequired;             \textcolor{comment}{// HOLD reset to get first touch point again}}
\DoxyCodeLine{211         \textcolor{keywordtype}{double} timeDuration;            \textcolor{comment}{// HOLD duration in milliseconds}}
\DoxyCodeLine{212     \} Hold;}
\DoxyCodeLine{213     \textcolor{keyword}{struct }\{}
\DoxyCodeLine{214         \mbox{\hyperlink{structVector2}{Vector2}} vector;                 \textcolor{comment}{// DRAG vector (between initial and current position)}}
\DoxyCodeLine{215         \textcolor{keywordtype}{float} angle;                    \textcolor{comment}{// DRAG angle (relative to x-\/axis)}}
\DoxyCodeLine{216         \textcolor{keywordtype}{float} distance;                 \textcolor{comment}{// DRAG distance (from initial touch point to final) (normalized [0..1])}}
\DoxyCodeLine{217         \textcolor{keywordtype}{float} intensity;                \textcolor{comment}{// DRAG intensity, how far why did the DRAG (pixels per frame)}}
\DoxyCodeLine{218     \} Drag;}
\DoxyCodeLine{219     \textcolor{keyword}{struct }\{}
\DoxyCodeLine{220         \textcolor{keywordtype}{bool} start;                     \textcolor{comment}{// SWIPE used to define when start measuring GESTURES.Swipe.timeDuration}}
\DoxyCodeLine{221         \textcolor{keywordtype}{double} timeDuration;            \textcolor{comment}{// SWIPE time to calculate drag intensity}}
\DoxyCodeLine{222     \} Swipe;}
\DoxyCodeLine{223     \textcolor{keyword}{struct }\{}
\DoxyCodeLine{224         \mbox{\hyperlink{structVector2}{Vector2}} vector;                 \textcolor{comment}{// PINCH vector (between first and second touch points)}}
\DoxyCodeLine{225         \textcolor{keywordtype}{float} angle;                    \textcolor{comment}{// PINCH angle (relative to x-\/axis)}}
\DoxyCodeLine{226         \textcolor{keywordtype}{float} distance;                 \textcolor{comment}{// PINCH displacement distance (normalized [0..1])}}
\DoxyCodeLine{227     \} Pinch;}
\DoxyCodeLine{228 \} GesturesData;}
\DoxyCodeLine{229 }
\DoxyCodeLine{230 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{231 \textcolor{comment}{// Global Variables Definition}}
\DoxyCodeLine{232 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{233 \textcolor{keyword}{static} GesturesData GESTURES = \{}
\DoxyCodeLine{234     .Touch.firstId = -\/1,}
\DoxyCodeLine{235     .current = GESTURE\_NONE,        \textcolor{comment}{// No current gesture detected}}
\DoxyCodeLine{236     .enabledFlags = 0b0000001111111111  \textcolor{comment}{// All gestures supported by default}}
\DoxyCodeLine{237 \};}
\DoxyCodeLine{238 }
\DoxyCodeLine{239 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{240 \textcolor{comment}{// Module specific Functions Declaration}}
\DoxyCodeLine{241 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{242 \textcolor{keyword}{static} \textcolor{keywordtype}{float} rgVector2Angle(\mbox{\hyperlink{structVector2}{Vector2}} initialPosition, \mbox{\hyperlink{structVector2}{Vector2}} finalPosition);}
\DoxyCodeLine{243 \textcolor{keyword}{static} \textcolor{keywordtype}{float} rgVector2Distance(\mbox{\hyperlink{structVector2}{Vector2}} v1, \mbox{\hyperlink{structVector2}{Vector2}} v2);}
\DoxyCodeLine{244 \textcolor{keyword}{static} \textcolor{keywordtype}{double} rgGetCurrentTime(\textcolor{keywordtype}{void});}
\DoxyCodeLine{245 }
\DoxyCodeLine{246 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{247 \textcolor{comment}{// Module Functions Definition}}
\DoxyCodeLine{248 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{249 }
\DoxyCodeLine{250 \textcolor{comment}{// Enable only desired getures to be detected}}
\DoxyCodeLine{251 \textcolor{keywordtype}{void} SetGesturesEnabled(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} flags)}
\DoxyCodeLine{252 \{}
\DoxyCodeLine{253     GESTURES.enabledFlags = flags;}
\DoxyCodeLine{254 \}}
\DoxyCodeLine{255 }
\DoxyCodeLine{256 \textcolor{comment}{// Check if a gesture have been detected}}
\DoxyCodeLine{257 \textcolor{keywordtype}{bool} IsGestureDetected(\textcolor{keywordtype}{int} gesture)}
\DoxyCodeLine{258 \{}
\DoxyCodeLine{259     \textcolor{keywordflow}{if} ((GESTURES.enabledFlags \& GESTURES.current) == gesture) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{260     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{261 \}}
\DoxyCodeLine{262 }
\DoxyCodeLine{263 \textcolor{comment}{// Process gesture event and translate it into gestures}}
\DoxyCodeLine{264 \textcolor{keywordtype}{void} ProcessGestureEvent(\mbox{\hyperlink{structGestureEvent}{GestureEvent}} event)}
\DoxyCodeLine{265 \{}
\DoxyCodeLine{266     \textcolor{comment}{// Reset required variables}}
\DoxyCodeLine{267     GESTURES.Touch.pointCount = \textcolor{keyword}{event}.pointCount;      \textcolor{comment}{// Required on UpdateGestures()}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269     \textcolor{keywordflow}{if} (GESTURES.Touch.pointCount == 1)     \textcolor{comment}{// One touch point}}
\DoxyCodeLine{270     \{}
\DoxyCodeLine{271         \textcolor{keywordflow}{if} (event.touchAction == TOUCH\_ACTION\_DOWN)}
\DoxyCodeLine{272         \{}
\DoxyCodeLine{273             GESTURES.Touch.tapCounter++;    \textcolor{comment}{// Tap counter}}
\DoxyCodeLine{274 }
\DoxyCodeLine{275             \textcolor{comment}{// Detect GESTURE\_DOUBLE\_TAP}}
\DoxyCodeLine{276             \textcolor{keywordflow}{if} ((GESTURES.current == GESTURE\_NONE) \&\& (GESTURES.Touch.tapCounter >= 2) \&\& ((rgGetCurrentTime() -\/ GESTURES.Touch.eventTime) < TAP\_TIMEOUT) \&\& (rgVector2Distance(GESTURES.Touch.downPositionA, event.position[0]) < DOUBLETAP\_RANGE))}
\DoxyCodeLine{277             \{}
\DoxyCodeLine{278                 GESTURES.current = GESTURE\_DOUBLETAP;}
\DoxyCodeLine{279                 GESTURES.Touch.tapCounter = 0;}
\DoxyCodeLine{280             \}}
\DoxyCodeLine{281             \textcolor{keywordflow}{else}    \textcolor{comment}{// Detect GESTURE\_TAP}}
\DoxyCodeLine{282             \{}
\DoxyCodeLine{283                 GESTURES.Touch.tapCounter = 1;}
\DoxyCodeLine{284                 GESTURES.current = GESTURE\_TAP;}
\DoxyCodeLine{285             \}}
\DoxyCodeLine{286 }
\DoxyCodeLine{287             GESTURES.Touch.downPositionA = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{288             GESTURES.Touch.downDragPosition = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{289 }
\DoxyCodeLine{290             GESTURES.Touch.upPosition = GESTURES.Touch.downPositionA;}
\DoxyCodeLine{291             GESTURES.Touch.eventTime = rgGetCurrentTime();}
\DoxyCodeLine{292 }
\DoxyCodeLine{293             GESTURES.Touch.firstId = \textcolor{keyword}{event}.pointId[0];}
\DoxyCodeLine{294 }
\DoxyCodeLine{295             GESTURES.Drag.vector = (\mbox{\hyperlink{structVector2}{Vector2}})\{ 0.0f, 0.0f \};}
\DoxyCodeLine{296         \}}
\DoxyCodeLine{297         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event.touchAction == TOUCH\_ACTION\_UP)}
\DoxyCodeLine{298         \{}
\DoxyCodeLine{299             \textcolor{keywordflow}{if} (GESTURES.current == GESTURE\_DRAG) GESTURES.Touch.upPosition = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{300 }
\DoxyCodeLine{301             \textcolor{comment}{// NOTE: GESTURES.Drag.intensity dependend on the resolution of the screen}}
\DoxyCodeLine{302             GESTURES.Drag.distance = rgVector2Distance(GESTURES.Touch.downPositionA, GESTURES.Touch.upPosition);}
\DoxyCodeLine{303             GESTURES.Drag.intensity = GESTURES.Drag.distance/(float)((rgGetCurrentTime() -\/ GESTURES.Swipe.timeDuration));}
\DoxyCodeLine{304 }
\DoxyCodeLine{305             GESTURES.Swipe.start = \textcolor{keyword}{false};}
\DoxyCodeLine{306 }
\DoxyCodeLine{307             \textcolor{comment}{// Detect GESTURE\_SWIPE}}
\DoxyCodeLine{308             \textcolor{keywordflow}{if} ((GESTURES.Drag.intensity > FORCE\_TO\_SWIPE) \&\& (GESTURES.Touch.firstId == \textcolor{keyword}{event}.pointId[0]))}
\DoxyCodeLine{309             \{}
\DoxyCodeLine{310                 \textcolor{comment}{// NOTE: Angle should be inverted in Y}}
\DoxyCodeLine{311                 GESTURES.Drag.angle = 360.0f -\/ rgVector2Angle(GESTURES.Touch.downPositionA, GESTURES.Touch.upPosition);}
\DoxyCodeLine{312 }
\DoxyCodeLine{313                 \textcolor{keywordflow}{if} ((GESTURES.Drag.angle < 30) || (GESTURES.Drag.angle > 330)) GESTURES.current = GESTURE\_SWIPE\_RIGHT;        \textcolor{comment}{// Right}}
\DoxyCodeLine{314                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((GESTURES.Drag.angle > 30) \&\& (GESTURES.Drag.angle < 120)) GESTURES.current = GESTURE\_SWIPE\_UP;      \textcolor{comment}{// Up}}
\DoxyCodeLine{315                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((GESTURES.Drag.angle > 120) \&\& (GESTURES.Drag.angle < 210)) GESTURES.current = GESTURE\_SWIPE\_LEFT;   \textcolor{comment}{// Left}}
\DoxyCodeLine{316                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((GESTURES.Drag.angle > 210) \&\& (GESTURES.Drag.angle < 300)) GESTURES.current = GESTURE\_SWIPE\_DOWN;   \textcolor{comment}{// Down}}
\DoxyCodeLine{317                 \textcolor{keywordflow}{else} GESTURES.current = GESTURE\_NONE;}
\DoxyCodeLine{318             \}}
\DoxyCodeLine{319             \textcolor{keywordflow}{else}}
\DoxyCodeLine{320             \{}
\DoxyCodeLine{321                 GESTURES.Drag.distance = 0.0f;}
\DoxyCodeLine{322                 GESTURES.Drag.intensity = 0.0f;}
\DoxyCodeLine{323                 GESTURES.Drag.angle = 0.0f;}
\DoxyCodeLine{324 }
\DoxyCodeLine{325                 GESTURES.current = GESTURE\_NONE;}
\DoxyCodeLine{326             \}}
\DoxyCodeLine{327 }
\DoxyCodeLine{328             GESTURES.Touch.downDragPosition = (\mbox{\hyperlink{structVector2}{Vector2}})\{ 0.0f, 0.0f \};}
\DoxyCodeLine{329             GESTURES.Touch.pointCount = 0;}
\DoxyCodeLine{330         \}}
\DoxyCodeLine{331         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event.touchAction == TOUCH\_ACTION\_MOVE)}
\DoxyCodeLine{332         \{}
\DoxyCodeLine{333             \textcolor{keywordflow}{if} (GESTURES.current == GESTURE\_DRAG) GESTURES.Touch.eventTime = rgGetCurrentTime();}
\DoxyCodeLine{334 }
\DoxyCodeLine{335             \textcolor{keywordflow}{if} (!GESTURES.Swipe.start)}
\DoxyCodeLine{336             \{}
\DoxyCodeLine{337                 GESTURES.Swipe.timeDuration = rgGetCurrentTime();}
\DoxyCodeLine{338                 GESTURES.Swipe.start = \textcolor{keyword}{true};}
\DoxyCodeLine{339             \}}
\DoxyCodeLine{340 }
\DoxyCodeLine{341             GESTURES.Touch.moveDownPositionA = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{342 }
\DoxyCodeLine{343             \textcolor{keywordflow}{if} (GESTURES.current == GESTURE\_HOLD)}
\DoxyCodeLine{344             \{}
\DoxyCodeLine{345                 \textcolor{keywordflow}{if} (GESTURES.Hold.resetRequired) GESTURES.Touch.downPositionA = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{346 }
\DoxyCodeLine{347                 GESTURES.Hold.resetRequired = \textcolor{keyword}{false};}
\DoxyCodeLine{348 }
\DoxyCodeLine{349                 \textcolor{comment}{// Detect GESTURE\_DRAG}}
\DoxyCodeLine{350                 \textcolor{keywordflow}{if} (rgVector2Distance(GESTURES.Touch.downPositionA, GESTURES.Touch.moveDownPositionA) >= MINIMUM\_DRAG)}
\DoxyCodeLine{351                 \{}
\DoxyCodeLine{352                     GESTURES.Touch.eventTime = rgGetCurrentTime();}
\DoxyCodeLine{353                     GESTURES.current = GESTURE\_DRAG;}
\DoxyCodeLine{354                 \}}
\DoxyCodeLine{355             \}}
\DoxyCodeLine{356 }
\DoxyCodeLine{357             GESTURES.Drag.vector.x = GESTURES.Touch.moveDownPositionA.x -\/ GESTURES.Touch.downDragPosition.x;}
\DoxyCodeLine{358             GESTURES.Drag.vector.y = GESTURES.Touch.moveDownPositionA.y -\/ GESTURES.Touch.downDragPosition.y;}
\DoxyCodeLine{359         \}}
\DoxyCodeLine{360     \}}
\DoxyCodeLine{361     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (GESTURES.Touch.pointCount == 2)    \textcolor{comment}{// Two touch points}}
\DoxyCodeLine{362     \{}
\DoxyCodeLine{363         \textcolor{keywordflow}{if} (event.touchAction == TOUCH\_ACTION\_DOWN)}
\DoxyCodeLine{364         \{}
\DoxyCodeLine{365             GESTURES.Touch.downPositionA = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{366             GESTURES.Touch.downPositionB = \textcolor{keyword}{event}.position[1];}
\DoxyCodeLine{367 }
\DoxyCodeLine{368             \textcolor{comment}{//GESTURES.Pinch.distance = rgVector2Distance(GESTURES.Touch.downPositionA, GESTURES.Touch.downPositionB);}}
\DoxyCodeLine{369 }
\DoxyCodeLine{370             GESTURES.Pinch.vector.x = GESTURES.Touch.downPositionB.x -\/ GESTURES.Touch.downPositionA.x;}
\DoxyCodeLine{371             GESTURES.Pinch.vector.y = GESTURES.Touch.downPositionB.y -\/ GESTURES.Touch.downPositionA.y;}
\DoxyCodeLine{372 }
\DoxyCodeLine{373             GESTURES.current = GESTURE\_HOLD;}
\DoxyCodeLine{374             GESTURES.Hold.timeDuration = rgGetCurrentTime();}
\DoxyCodeLine{375         \}}
\DoxyCodeLine{376         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event.touchAction == TOUCH\_ACTION\_MOVE)}
\DoxyCodeLine{377         \{}
\DoxyCodeLine{378             GESTURES.Pinch.distance = rgVector2Distance(GESTURES.Touch.moveDownPositionA, GESTURES.Touch.moveDownPositionB);}
\DoxyCodeLine{379 }
\DoxyCodeLine{380             GESTURES.Touch.downPositionA = GESTURES.Touch.moveDownPositionA;}
\DoxyCodeLine{381             GESTURES.Touch.downPositionB = GESTURES.Touch.moveDownPositionB;}
\DoxyCodeLine{382 }
\DoxyCodeLine{383             GESTURES.Touch.moveDownPositionA = \textcolor{keyword}{event}.position[0];}
\DoxyCodeLine{384             GESTURES.Touch.moveDownPositionB = \textcolor{keyword}{event}.position[1];}
\DoxyCodeLine{385 }
\DoxyCodeLine{386             GESTURES.Pinch.vector.x = GESTURES.Touch.moveDownPositionB.x -\/ GESTURES.Touch.moveDownPositionA.x;}
\DoxyCodeLine{387             GESTURES.Pinch.vector.y = GESTURES.Touch.moveDownPositionB.y -\/ GESTURES.Touch.moveDownPositionA.y;}
\DoxyCodeLine{388 }
\DoxyCodeLine{389             \textcolor{keywordflow}{if} ((rgVector2Distance(GESTURES.Touch.downPositionA, GESTURES.Touch.moveDownPositionA) >= MINIMUM\_PINCH) || (rgVector2Distance(GESTURES.Touch.downPositionB, GESTURES.Touch.moveDownPositionB) >= MINIMUM\_PINCH))}
\DoxyCodeLine{390             \{}
\DoxyCodeLine{391                 \textcolor{keywordflow}{if} ((rgVector2Distance(GESTURES.Touch.moveDownPositionA, GESTURES.Touch.moveDownPositionB) -\/ GESTURES.Pinch.distance) < 0) GESTURES.current = GESTURE\_PINCH\_IN;}
\DoxyCodeLine{392                 \textcolor{keywordflow}{else} GESTURES.current = GESTURE\_PINCH\_OUT;}
\DoxyCodeLine{393             \}}
\DoxyCodeLine{394             \textcolor{keywordflow}{else}}
\DoxyCodeLine{395             \{}
\DoxyCodeLine{396                 GESTURES.current = GESTURE\_HOLD;}
\DoxyCodeLine{397                 GESTURES.Hold.timeDuration = rgGetCurrentTime();}
\DoxyCodeLine{398             \}}
\DoxyCodeLine{399 }
\DoxyCodeLine{400             \textcolor{comment}{// NOTE: Angle should be inverted in Y}}
\DoxyCodeLine{401             GESTURES.Pinch.angle = 360.0f -\/ rgVector2Angle(GESTURES.Touch.moveDownPositionA, GESTURES.Touch.moveDownPositionB);}
\DoxyCodeLine{402         \}}
\DoxyCodeLine{403         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event.touchAction == TOUCH\_ACTION\_UP)}
\DoxyCodeLine{404         \{}
\DoxyCodeLine{405             GESTURES.Pinch.distance = 0.0f;}
\DoxyCodeLine{406             GESTURES.Pinch.angle = 0.0f;}
\DoxyCodeLine{407             GESTURES.Pinch.vector = (\mbox{\hyperlink{structVector2}{Vector2}})\{ 0.0f, 0.0f \};}
\DoxyCodeLine{408             GESTURES.Touch.pointCount = 0;}
\DoxyCodeLine{409 }
\DoxyCodeLine{410             GESTURES.current = GESTURE\_NONE;}
\DoxyCodeLine{411         \}}
\DoxyCodeLine{412     \}}
\DoxyCodeLine{413     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (GESTURES.Touch.pointCount > 2)     \textcolor{comment}{// More than two touch points}}
\DoxyCodeLine{414     \{}
\DoxyCodeLine{415         \textcolor{comment}{// TODO: Process gesture events for more than two points}}
\DoxyCodeLine{416     \}}
\DoxyCodeLine{417 \}}
\DoxyCodeLine{418 }
\DoxyCodeLine{419 \textcolor{comment}{// Update gestures detected (must be called every frame)}}
\DoxyCodeLine{420 \textcolor{keywordtype}{void} UpdateGestures(\textcolor{keywordtype}{void})}
\DoxyCodeLine{421 \{}
\DoxyCodeLine{422     \textcolor{comment}{// NOTE: Gestures are processed through system callbacks on touch events}}
\DoxyCodeLine{423 }
\DoxyCodeLine{424     \textcolor{comment}{// Detect GESTURE\_HOLD}}
\DoxyCodeLine{425     \textcolor{keywordflow}{if} (((GESTURES.current == GESTURE\_TAP) || (GESTURES.current == GESTURE\_DOUBLETAP)) \&\& (GESTURES.Touch.pointCount < 2))}
\DoxyCodeLine{426     \{}
\DoxyCodeLine{427         GESTURES.current = GESTURE\_HOLD;}
\DoxyCodeLine{428         GESTURES.Hold.timeDuration = rgGetCurrentTime();}
\DoxyCodeLine{429     \}}
\DoxyCodeLine{430 }
\DoxyCodeLine{431     \textcolor{keywordflow}{if} (((rgGetCurrentTime() -\/ GESTURES.Touch.eventTime) > TAP\_TIMEOUT) \&\& (GESTURES.current == GESTURE\_DRAG) \&\& (GESTURES.Touch.pointCount < 2))}
\DoxyCodeLine{432     \{}
\DoxyCodeLine{433         GESTURES.current = GESTURE\_HOLD;}
\DoxyCodeLine{434         GESTURES.Hold.timeDuration = rgGetCurrentTime();}
\DoxyCodeLine{435         GESTURES.Hold.resetRequired = \textcolor{keyword}{true};}
\DoxyCodeLine{436     \}}
\DoxyCodeLine{437 }
\DoxyCodeLine{438     \textcolor{comment}{// Detect GESTURE\_NONE}}
\DoxyCodeLine{439     \textcolor{keywordflow}{if} ((GESTURES.current == GESTURE\_SWIPE\_RIGHT) || (GESTURES.current == GESTURE\_SWIPE\_UP) || (GESTURES.current == GESTURE\_SWIPE\_LEFT) || (GESTURES.current == GESTURE\_SWIPE\_DOWN))}
\DoxyCodeLine{440     \{}
\DoxyCodeLine{441         GESTURES.current = GESTURE\_NONE;}
\DoxyCodeLine{442     \}}
\DoxyCodeLine{443 \}}
\DoxyCodeLine{444 }
\DoxyCodeLine{445 \textcolor{comment}{// Get latest detected gesture}}
\DoxyCodeLine{446 \textcolor{keywordtype}{int} GetGestureDetected(\textcolor{keywordtype}{void})}
\DoxyCodeLine{447 \{}
\DoxyCodeLine{448     \textcolor{comment}{// Get current gesture only if enabled}}
\DoxyCodeLine{449     \textcolor{keywordflow}{return} (GESTURES.enabledFlags \& GESTURES.current);}
\DoxyCodeLine{450 \}}
\DoxyCodeLine{451 }
\DoxyCodeLine{452 \textcolor{comment}{// Hold time measured in ms}}
\DoxyCodeLine{453 \textcolor{keywordtype}{float} GetGestureHoldDuration(\textcolor{keywordtype}{void})}
\DoxyCodeLine{454 \{}
\DoxyCodeLine{455     \textcolor{comment}{// NOTE: time is calculated on current gesture HOLD}}
\DoxyCodeLine{456 }
\DoxyCodeLine{457     \textcolor{keywordtype}{double} time = 0.0;}
\DoxyCodeLine{458 }
\DoxyCodeLine{459     \textcolor{keywordflow}{if} (GESTURES.current == GESTURE\_HOLD) time = rgGetCurrentTime() -\/ GESTURES.Hold.timeDuration;}
\DoxyCodeLine{460 }
\DoxyCodeLine{461     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})time;}
\DoxyCodeLine{462 \}}
\DoxyCodeLine{463 }
\DoxyCodeLine{464 \textcolor{comment}{// Get drag vector (between initial touch point to current)}}
\DoxyCodeLine{465 \mbox{\hyperlink{structVector2}{Vector2}} GetGestureDragVector(\textcolor{keywordtype}{void})}
\DoxyCodeLine{466 \{}
\DoxyCodeLine{467     \textcolor{comment}{// NOTE: drag vector is calculated on one touch points TOUCH\_ACTION\_MOVE}}
\DoxyCodeLine{468 }
\DoxyCodeLine{469     \textcolor{keywordflow}{return} GESTURES.Drag.vector;}
\DoxyCodeLine{470 \}}
\DoxyCodeLine{471 }
\DoxyCodeLine{472 \textcolor{comment}{// Get drag angle}}
\DoxyCodeLine{473 \textcolor{comment}{// NOTE: Angle in degrees, horizontal-\/right is 0, counterclock-\/wise}}
\DoxyCodeLine{474 \textcolor{keywordtype}{float} GetGestureDragAngle(\textcolor{keywordtype}{void})}
\DoxyCodeLine{475 \{}
\DoxyCodeLine{476     \textcolor{comment}{// NOTE: drag angle is calculated on one touch points TOUCH\_ACTION\_UP}}
\DoxyCodeLine{477 }
\DoxyCodeLine{478     \textcolor{keywordflow}{return} GESTURES.Drag.angle;}
\DoxyCodeLine{479 \}}
\DoxyCodeLine{480 }
\DoxyCodeLine{481 \textcolor{comment}{// Get distance between two pinch points}}
\DoxyCodeLine{482 \mbox{\hyperlink{structVector2}{Vector2}} GetGesturePinchVector(\textcolor{keywordtype}{void})}
\DoxyCodeLine{483 \{}
\DoxyCodeLine{484     \textcolor{comment}{// NOTE: Pinch distance is calculated on two touch points TOUCH\_ACTION\_MOVE}}
\DoxyCodeLine{485 }
\DoxyCodeLine{486     \textcolor{keywordflow}{return} GESTURES.Pinch.vector;}
\DoxyCodeLine{487 \}}
\DoxyCodeLine{488 }
\DoxyCodeLine{489 \textcolor{comment}{// Get angle beween two pinch points}}
\DoxyCodeLine{490 \textcolor{comment}{// NOTE: Angle in degrees, horizontal-\/right is 0, counterclock-\/wise}}
\DoxyCodeLine{491 \textcolor{keywordtype}{float} GetGesturePinchAngle(\textcolor{keywordtype}{void})}
\DoxyCodeLine{492 \{}
\DoxyCodeLine{493     \textcolor{comment}{// NOTE: pinch angle is calculated on two touch points TOUCH\_ACTION\_MOVE}}
\DoxyCodeLine{494 }
\DoxyCodeLine{495     \textcolor{keywordflow}{return} GESTURES.Pinch.angle;}
\DoxyCodeLine{496 \}}
\DoxyCodeLine{497 }
\DoxyCodeLine{498 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{499 \textcolor{comment}{// Module specific Functions Definition}}
\DoxyCodeLine{500 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{501 \textcolor{comment}{// Get angle from two-\/points vector with X-\/axis}}
\DoxyCodeLine{502 \textcolor{keyword}{static} \textcolor{keywordtype}{float} rgVector2Angle(\mbox{\hyperlink{structVector2}{Vector2}} v1, \mbox{\hyperlink{structVector2}{Vector2}} v2)}
\DoxyCodeLine{503 \{}
\DoxyCodeLine{504     \textcolor{keywordtype}{float} angle = atan2f(v2.y -\/ v1.y, v2.x -\/ v1.x)*(180.0f/PI);}
\DoxyCodeLine{505 }
\DoxyCodeLine{506     \textcolor{keywordflow}{if} (angle < 0) angle += 360.0f;}
\DoxyCodeLine{507 }
\DoxyCodeLine{508     \textcolor{keywordflow}{return} angle;}
\DoxyCodeLine{509 \}}
\DoxyCodeLine{510 }
\DoxyCodeLine{511 \textcolor{comment}{// Calculate distance between two Vector2}}
\DoxyCodeLine{512 \textcolor{keyword}{static} \textcolor{keywordtype}{float} rgVector2Distance(\mbox{\hyperlink{structVector2}{Vector2}} v1, \mbox{\hyperlink{structVector2}{Vector2}} v2)}
\DoxyCodeLine{513 \{}
\DoxyCodeLine{514     \textcolor{keywordtype}{float} result;}
\DoxyCodeLine{515 }
\DoxyCodeLine{516     \textcolor{keywordtype}{float} dx = v2.x -\/ v1.x;}
\DoxyCodeLine{517     \textcolor{keywordtype}{float} dy = v2.y -\/ v1.y;}
\DoxyCodeLine{518 }
\DoxyCodeLine{519     result = (float)sqrt(dx*dx + dy*dy);}
\DoxyCodeLine{520 }
\DoxyCodeLine{521     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{522 \}}
\DoxyCodeLine{523 }
\DoxyCodeLine{524 \textcolor{comment}{// Time measure returned are milliseconds}}
\DoxyCodeLine{525 \textcolor{keyword}{static} \textcolor{keywordtype}{double} rgGetCurrentTime(\textcolor{keywordtype}{void})}
\DoxyCodeLine{526 \{}
\DoxyCodeLine{527     \textcolor{keywordtype}{double} time = 0;}
\DoxyCodeLine{528 }
\DoxyCodeLine{529 \textcolor{preprocessor}{\#if defined(\_WIN32)}}
\DoxyCodeLine{530     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} clockFrequency, currentTime;}
\DoxyCodeLine{531 }
\DoxyCodeLine{532     QueryPerformanceFrequency(\&clockFrequency);     \textcolor{comment}{// BE CAREFUL: Costly operation!}}
\DoxyCodeLine{533     QueryPerformanceCounter(\&currentTime);}
\DoxyCodeLine{534 }
\DoxyCodeLine{535     time = (double)currentTime/clockFrequency*1000.0f;  \textcolor{comment}{// Time in miliseconds}}
\DoxyCodeLine{536 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{537 }
\DoxyCodeLine{538 \textcolor{preprocessor}{\#if defined(\_\_linux\_\_)}}
\DoxyCodeLine{539     \textcolor{comment}{// NOTE: Only for Linux-\/based systems}}
\DoxyCodeLine{540     \textcolor{keyword}{struct }timespec now;}
\DoxyCodeLine{541     clock\_gettime(CLOCK\_MONOTONIC, \&now);}
\DoxyCodeLine{542     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} nowTime = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} int)now.tv\_sec*1000000000LLU + (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int})now.tv\_nsec;     \textcolor{comment}{// Time in nanoseconds}}
\DoxyCodeLine{543 }
\DoxyCodeLine{544     time = ((double)nowTime/1000000.0);     \textcolor{comment}{// Time in miliseconds}}
\DoxyCodeLine{545 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{546 }
\DoxyCodeLine{547 \textcolor{preprocessor}{\#if defined(\_\_APPLE\_\_)}}
\DoxyCodeLine{548     \textcolor{comment}{//\#define CLOCK\_REALTIME  CALENDAR\_CLOCK    // returns UTC time since 1970-\/01-\/01}}
\DoxyCodeLine{549     \textcolor{comment}{//\#define CLOCK\_MONOTONIC SYSTEM\_CLOCK      // returns the time since boot time}}
\DoxyCodeLine{550 }
\DoxyCodeLine{551     clock\_serv\_t cclock;}
\DoxyCodeLine{552     mach\_timespec\_t now;}
\DoxyCodeLine{553     host\_get\_clock\_service(mach\_host\_self(), SYSTEM\_CLOCK, \&cclock);}
\DoxyCodeLine{554 }
\DoxyCodeLine{555     \textcolor{comment}{// NOTE: OS X does not have clock\_gettime(), using clock\_get\_time()}}
\DoxyCodeLine{556     clock\_get\_time(cclock, \&now);}
\DoxyCodeLine{557     mach\_port\_deallocate(mach\_task\_self(), cclock);}
\DoxyCodeLine{558     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} nowTime = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} int)now.tv\_sec*1000000000LLU + (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int})now.tv\_nsec;     \textcolor{comment}{// Time in nanoseconds}}
\DoxyCodeLine{559 }
\DoxyCodeLine{560     time = ((double)nowTime/1000000.0);     \textcolor{comment}{// Time in miliseconds}}
\DoxyCodeLine{561 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{562 }
\DoxyCodeLine{563     \textcolor{keywordflow}{return} time;}
\DoxyCodeLine{564 \}}
\DoxyCodeLine{565 }
\DoxyCodeLine{566 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// GESTURES\_IMPLEMENTATION}}

\end{DoxyCode}
