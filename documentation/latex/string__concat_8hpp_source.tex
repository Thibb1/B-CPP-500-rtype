\hypertarget{string__concat_8hpp_source}{}\doxysection{string\+\_\+concat.\+hpp}
\label{string__concat_8hpp_source}\index{build/\_deps/json-\/src/include/nlohmann/detail/string\_concat.hpp@{build/\_deps/json-\/src/include/nlohmann/detail/string\_concat.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//     \_\_ \_\_\_\_\_ \_\_\_\_\_ \_\_\_\_\_}}
\DoxyCodeLine{2 \textcolor{comment}{//  \_\_|  |   \_\_|     |   | |  JSON for Modern C++}}
\DoxyCodeLine{3 \textcolor{comment}{// |  |  |\_\_   |  |  | | | |  version 3.11.2}}
\DoxyCodeLine{4 \textcolor{comment}{// |\_\_\_\_\_|\_\_\_\_\_|\_\_\_\_\_|\_|\_\_\_|  https://github.com/nlohmann/json}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2013-\/2022 Niels Lohmann <https://nlohmann.me>}}
\DoxyCodeLine{7 \textcolor{comment}{// SPDX-\/License-\/Identifier: MIT}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <cstring>} \textcolor{comment}{// strlen}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <string>} \textcolor{comment}{// string}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <utility>} \textcolor{comment}{// forward}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <nlohmann/detail/meta/cpp\_future.hpp>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <nlohmann/detail/meta/detected.hpp>}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 NLOHMANN\_JSON\_NAMESPACE\_BEGIN}
\DoxyCodeLine{19 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacedetail}{detail}}}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{inline} std::size\_t concat\_length()}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{25 \}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{28 \textcolor{keyword}{inline} std::size\_t concat\_length(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* cstr, Args\&\& ... rest);}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{31 \textcolor{keyword}{inline} std::size\_t concat\_length(\textcolor{keyword}{const} StringType\& str, Args\&\& ... rest);}
\DoxyCodeLine{32 }
\DoxyCodeLine{33 \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{34 \textcolor{keyword}{inline} std::size\_t concat\_length(\textcolor{keyword}{const} \textcolor{keywordtype}{char} \textcolor{comment}{/*c*/}, Args\&\& ... rest)}
\DoxyCodeLine{35 \{}
\DoxyCodeLine{36     \textcolor{keywordflow}{return} 1 + concat\_length(std::forward<Args>(rest)...);}
\DoxyCodeLine{37 \}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{40 \textcolor{keyword}{inline} std::size\_t concat\_length(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* cstr, Args\&\& ... rest)}
\DoxyCodeLine{41 \{}
\DoxyCodeLine{42     \textcolor{comment}{// cppcheck-\/suppress ignoredReturnValue}}
\DoxyCodeLine{43     return ::strlen(cstr) + concat\_length(std::forward<Args>(rest)...);}
\DoxyCodeLine{44 \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{47 \textcolor{keyword}{inline} std::size\_t concat\_length(\textcolor{keyword}{const} StringType\& str, Args\&\& ... rest)}
\DoxyCodeLine{48 \{}
\DoxyCodeLine{49     \textcolor{keywordflow}{return} str.size() + concat\_length(std::forward<Args>(rest)...);}
\DoxyCodeLine{50 \}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OutStringType>}
\DoxyCodeLine{53 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& \textcolor{comment}{/*out*/})}
\DoxyCodeLine{54 \{\}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{57 \textcolor{keyword}{using }string\_can\_append = \textcolor{keyword}{decltype}(std::declval<StringType\&>().append(std::declval < Arg \&\& > ()));}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{60 \textcolor{keyword}{using }detect\_string\_can\_append = is\_detected<string\_can\_append, StringType, Arg>;}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{63 \textcolor{keyword}{using }string\_can\_append\_op = \textcolor{keyword}{decltype}(std::declval<StringType\&>() += std::declval < Arg \&\& > ());}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{66 \textcolor{keyword}{using }detect\_string\_can\_append\_op = is\_detected<string\_can\_append\_op, StringType, Arg>;}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{69 \textcolor{keyword}{using }string\_can\_append\_iter = \textcolor{keyword}{decltype}(std::declval<StringType\&>().append(std::declval<const Arg\&>().begin(), std::declval<const Arg\&>().end()));}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{72 \textcolor{keyword}{using }detect\_string\_can\_append\_iter = is\_detected<string\_can\_append\_iter, StringType, Arg>;}
\DoxyCodeLine{73 }
\DoxyCodeLine{74 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{75 \textcolor{keyword}{using }string\_can\_append\_data = \textcolor{keyword}{decltype}(std::declval<StringType\&>().append(std::declval<const Arg\&>().data(), std::declval<const Arg\&>().size()));}
\DoxyCodeLine{76 }
\DoxyCodeLine{77 \textcolor{keyword}{template}<\textcolor{keyword}{typename} StringType, \textcolor{keyword}{typename} Arg>}
\DoxyCodeLine{78 \textcolor{keyword}{using }detect\_string\_can\_append\_data = is\_detected<string\_can\_append\_data, StringType, Arg>;}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{template} < \textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{81            enable\_if\_t < !detect\_string\_can\_append<OutStringType, Arg>::value}
\DoxyCodeLine{82                          \&\& detect\_string\_can\_append\_op<OutStringType, Arg>::value, \textcolor{keywordtype}{int} > = 0 >}
\DoxyCodeLine{83 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, Arg \&\& arg, Args \&\& ... rest);}
\DoxyCodeLine{84 }
\DoxyCodeLine{85 \textcolor{keyword}{template} < \textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{86            enable\_if\_t < !detect\_string\_can\_append<OutStringType, Arg>::value}
\DoxyCodeLine{87                          \&\& !detect\_string\_can\_append\_op<OutStringType, Arg>::value}
\DoxyCodeLine{88                          \&\& detect\_string\_can\_append\_iter<OutStringType, Arg>::value, \textcolor{keywordtype}{int} > = 0 >}
\DoxyCodeLine{89 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, \textcolor{keyword}{const} Arg\& arg, Args \&\& ... rest);}
\DoxyCodeLine{90 }
\DoxyCodeLine{91 \textcolor{keyword}{template} < \textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{92            enable\_if\_t < !detect\_string\_can\_append<OutStringType, Arg>::value}
\DoxyCodeLine{93                          \&\& !detect\_string\_can\_append\_op<OutStringType, Arg>::value}
\DoxyCodeLine{94                          \&\& !detect\_string\_can\_append\_iter<OutStringType, Arg>::value}
\DoxyCodeLine{95                          \&\& detect\_string\_can\_append\_data<OutStringType, Arg>::value, \textcolor{keywordtype}{int} > = 0 >}
\DoxyCodeLine{96 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, \textcolor{keyword}{const} Arg\& arg, Args \&\& ... rest);}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{99          enable\_if\_t<detect\_string\_can\_append<OutStringType, Arg>::value, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{100 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, Arg \&\& arg, Args \&\& ... rest)}
\DoxyCodeLine{101 \{}
\DoxyCodeLine{102     out.append(std::forward<Arg>(arg));}
\DoxyCodeLine{103     concat\_into(out, std::forward<Args>(rest)...);}
\DoxyCodeLine{104 \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 \textcolor{keyword}{template} < \textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{107            enable\_if\_t < !detect\_string\_can\_append<OutStringType, Arg>::value}
\DoxyCodeLine{108                          \&\& detect\_string\_can\_append\_op<OutStringType, Arg>::value, \textcolor{keywordtype}{int} > >}
\DoxyCodeLine{109 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, Arg\&\& arg, Args\&\& ... rest)}
\DoxyCodeLine{110 \{}
\DoxyCodeLine{111     out += std::forward<Arg>(arg);}
\DoxyCodeLine{112     concat\_into(out, std::forward<Args>(rest)...);}
\DoxyCodeLine{113 \}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115 \textcolor{keyword}{template} < \textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{116            enable\_if\_t < !detect\_string\_can\_append<OutStringType, Arg>::value}
\DoxyCodeLine{117                          \&\& !detect\_string\_can\_append\_op<OutStringType, Arg>::value}
\DoxyCodeLine{118                          \&\& detect\_string\_can\_append\_iter<OutStringType, Arg>::value, \textcolor{keywordtype}{int} > >}
\DoxyCodeLine{119 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, \textcolor{keyword}{const} Arg\& arg, Args\&\& ... rest)}
\DoxyCodeLine{120 \{}
\DoxyCodeLine{121     out.append(arg.begin(), arg.end());}
\DoxyCodeLine{122     concat\_into(out, std::forward<Args>(rest)...);}
\DoxyCodeLine{123 \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{keyword}{template} < \textcolor{keyword}{typename} OutStringType, \textcolor{keyword}{typename} Arg, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{126            enable\_if\_t < !detect\_string\_can\_append<OutStringType, Arg>::value}
\DoxyCodeLine{127                          \&\& !detect\_string\_can\_append\_op<OutStringType, Arg>::value}
\DoxyCodeLine{128                          \&\& !detect\_string\_can\_append\_iter<OutStringType, Arg>::value}
\DoxyCodeLine{129                          \&\& detect\_string\_can\_append\_data<OutStringType, Arg>::value, \textcolor{keywordtype}{int} > >}
\DoxyCodeLine{130 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} concat\_into(OutStringType\& out, \textcolor{keyword}{const} Arg\& arg, Args\&\& ... rest)}
\DoxyCodeLine{131 \{}
\DoxyCodeLine{132     out.append(arg.data(), arg.size());}
\DoxyCodeLine{133     concat\_into(out, std::forward<Args>(rest)...);}
\DoxyCodeLine{134 \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OutStringType = std::string, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{137 \textcolor{keyword}{inline} OutStringType concat(Args \&\& ... args)}
\DoxyCodeLine{138 \{}
\DoxyCodeLine{139     OutStringType str;}
\DoxyCodeLine{140     str.reserve(concat\_length(std::forward<Args>(args)...));}
\DoxyCodeLine{141     concat\_into(str, std::forward<Args>(args)...);}
\DoxyCodeLine{142     \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{143 \}}
\DoxyCodeLine{144 }
\DoxyCodeLine{145 \}  \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{146 NLOHMANN\_JSON\_NAMESPACE\_END}

\end{DoxyCode}
